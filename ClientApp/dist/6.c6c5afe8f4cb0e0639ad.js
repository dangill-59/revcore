exports.ids = [6];
exports.modules = {

/***/ 1642:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__formEditor_css__ = __webpack_require__(1729);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__formEditor_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__formEditor_css__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_bootstrap__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_bootstrap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__reducer__ = __webpack_require__(1200);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__formSurface__ = __webpack_require__(1644);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_base_splitPoint__ = __webpack_require__(240);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_toggle_button__ = __webpack_require__(1150);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_react_toggle_button___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_react_toggle_button__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_react_redux__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_react_redux___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_react_redux__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__workspace_reducer__ = __webpack_require__(32);










var showCurrentPageLabel = (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Tooltip"], { id: 'showcurrenttooltip' }, "Show OCR results on current page instead of Form reference page") },
    __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("i", { className: 'fa fa-sticky-note-o', style: { margin: 'auto' } })));
var ScriptEditor = function (_a) {
    var listDocsHelper = _a.listDocsHelper;
    return (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_6_base_splitPoint__["a" /* default */], { childProps: { listDocsHelper: listDocsHelper }, prompt: 'Loading scripts module...', loader: function (resolve) {
            __webpack_require__.e/* require.ensure */(5).then((function (require) {
                resolve(__webpack_require__(1646).default);
            }).bind(null, __webpack_require__)).catch(__webpack_require__.oe);
        } }));
};
var FormEditor = function (_a) {
    var automationId = _a.id, dispatch = _a.dispatch, name = _a.name, activeTab = _a.activeTab, usingReferenceImage = _a.usingReferenceImage, sliderValue = _a.sliderValue, activePage = _a.activePage, listDocsHelper = _a.listDocsHelper, hasBarcodeFeature = _a.hasBarcodeFeature;
    return (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Modal"], { dialogClassName: 'model-full', show: true, onHide: function () { return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__reducer__["a" /* default */])().editScript(null)); }, backdrop: 'static' },
        __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Modal"].Header, null,
            __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["ButtonToolbar"], { style: { float: 'right' } },
                __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Button"], { bsStyle: 'primary', disabled: !(name && name.length >= 4), onClick: function (_) { return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__reducer__["a" /* default */])().saveCurrent(listDocsHelper, activePage)); } },
                    __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Tooltip"], { id: 'saveformtooltip' }, "Save changes to this automation") },
                        __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("i", { className: 'fa fa-check-square fa-2x' }))),
                __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Button"], { onClick: function () { return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__reducer__["a" /* default */])().editScript(null)); }, bsStyle: 'link' },
                    __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Tooltip"], { id: 'closeformtooltip' },
                            "Close automation editor ",
                            __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("br", null),
                            __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("small", null, "unsaved changes will be lost")) },
                        __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("i", { className: 'fa fa-times fa-2x text-danger' })))),
            __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["FormGroup"], { controlId: 'formnameFormControl', validationState: (name && name.length) > 3 ? 'success' : 'warning', style: { float: 'left', maxWidth: 400 } },
                __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["InputGroup"], null,
                    __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["InputGroup"].Addon, null,
                        __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Tooltip"], { id: 'regextooltip' },
                                "Automation name ",
                                __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("small", null, "4 characters +")) },
                            __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("i", { className: 'fa fa-retweet', style: { margin: 'auto' } }))),
                    __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["FormControl"], { type: 'text', placeholder: 'Automation name...', value: name || '', onChange: function (e) {
                            return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__reducer__["a" /* default */])().updateAutomationProp(activePage, 'name', e.target.value));
                        } })),
                __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["FormControl"].Feedback, null)),
            (!activeTab || activeTab == 'form') && (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("div", { style: { float: 'left', padding: '0px 10px' } },
                sliderValue < 1500 && (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Tooltip"], { id: 'inctooltip' }, "Increase image size") },
                    __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Button"], { bsStyle: 'link', style: { padding: '0px', marginLeft: '5px' }, onClick: function () { return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__reducer__["a" /* default */])().zoom()); } },
                        ' ',
                        __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("i", { className: 'fa fa-search-plus fa-2x text-primary' })))),
                sliderValue > 60 && (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Tooltip"], { id: 'dectooltip' }, "Decrease image size") },
                    __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Button"], { bsStyle: 'link', style: { padding: '0px' }, onClick: function () { return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__reducer__["a" /* default */])().zoom(true)); } },
                        ' ',
                        __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("i", { className: 'fa fa-search-minus  fa-2x text-primary' })))))),
            __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("div", { style: { float: 'left', paddingRight: '5px', paddingTop: 8 } }, !activeTab || activeTab == 'form' ? (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_7_react_toggle_button___default.a, { thumbIcon: showCurrentPageLabel, value: !usingReferenceImage, onToggle: function (_) {
                    return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__reducer__["a" /* default */])().updateAutomationProp(activePage, 'usingReferenceImage', !usingReferenceImage));
                }, colors: {
                    activeThumb: {
                        base: '#f37029',
                    },
                    inactiveThumb: {
                        base: '#f37029',
                    },
                } })) : (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Tooltip"], { id: 'searchScriptTemplatestooltip' }, "Create Script from template") },
                __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("a", { style: { padding: '0px', marginLeft: '5px' }, href: 'http://scanningrevolution.com/rev-script-templates/', target: '_blank' },
                    ' ',
                    __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("i", { className: 'fa fa-newspaper-o text-primary' }))))),
            automationId && (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("div", { style: { float: 'left', paddingRight: '5px', paddingTop: 8 } },
                __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Button"], { bsStyle: 'danger', bsSize: 'xs', style: { opacity: 0.8 }, onClick: function (e) {
                        e.preventDefault();
                        e.stopPropagation();
                        dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__reducer__["a" /* default */])().removeAutomation(automationId));
                    } },
                    __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Tooltip"], { id: 'formtooltip' }, "Remove automated task") },
                        __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("span", null, "delete this")))))),
        __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Modal"].Body, null,
            __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("div", { className: 'popupColors', style: { textAlign: 'center', padding: '5px' } },
                __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Tabs"], { activeKey: activeTab, onSelect: function (key) {
                        return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__reducer__["a" /* default */])().updateAutomationProp(activePage, 'activeTab', key));
                    }, className: 'rightTabs', mountOnEnter: true, id: 'automationTabs' },
                    hasBarcodeFeature && (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Tab"], { eventKey: 'form', title: 'Automated recognition' }, activePage ? (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_5__formSurface__["a" /* default */], { width: sliderValue, formImage: activePage })) : (__WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("div", null,
                        __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("h3", { className: 'text-danger' }, "No image for the form"),
                        __WEBPACK_IMPORTED_MODULE_1_react__["createElement"]("p", null, "Please close this editor and upload an image in the new document view to configure automated recognition"))))),
                    __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__["Tab"], { eventKey: 'script', title: 'Script' },
                        __WEBPACK_IMPORTED_MODULE_1_react__["createElement"](ScriptEditor, { listDocsHelper: listDocsHelper })))))));
};
/* harmony default export */ __webpack_exports__["default"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_react_redux__["connect"])(function (state, ownprops) {
    var pagesState = ownprops.listPagesHelper.getmyState(state);
    var formsState = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__reducer__["a" /* default */])().getCurrentState(state);
    var docListState = ownprops.listDocsHelper.getmyState(state);
    var referenceImage = formsState &&
        formsState.currentlyEditing &&
        formsState.currentlyEditing.pages &&
        formsState.currentlyEditing.pages.length > 0 &&
        formsState.currentlyEditing.pages[0];
    var activePage = formsState &&
        formsState.currentlyEditing &&
        formsState.currentlyEditing.usingReferenceImage &&
        referenceImage;
    if (!activePage)
        activePage = pagesState && pagesState.activePage;
    if (!activePage &&
        docListState &&
        docListState.activeDoc &&
        docListState.activeDoc.pages &&
        docListState.activeDoc.pages.length > 0)
        activePage = docListState.activeDoc.pages[0];
    if (!activePage && referenceImage)
        activePage = referenceImage;
    var barCodeFeature = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_9__workspace_reducer__["a" /* default */])().getFeature('barcode', state);
    return __WEBPACK_IMPORTED_MODULE_2_lodash__["assign"]({}, formsState && formsState.currentlyEditing, {
        activePage: activePage,
        sliderValue: (formsState && formsState.imageWidth) || 520,
        hasBarcodeFeature: !!barCodeFeature,
    }, 
    //if no forms recognition force activeTabtobe always script
    !!barCodeFeature ? {} : { activeTab: 'script' });
})(FormEditor));


/***/ }),

/***/ 1644:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom__ = __webpack_require__(21);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_dom___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_dom__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__reducer__ = __webpack_require__(1200);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__zoneList__ = __webpack_require__(1648);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_redux__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_redux___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react_redux__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__projects_reducer__ = __webpack_require__(88);
var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();







var FormSurface = /** @class */ (function (_super) {
    __extends(FormSurface, _super);
    function FormSurface() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.CanvasRef = null;
        _this.state = {};
        _this.hasDrawing = false;
        return _this;
    }
    FormSurface.prototype.componentDidMount = function () {
        var canvas = __WEBPACK_IMPORTED_MODULE_1_react_dom__["findDOMNode"](this.CanvasRef);
        canvas.style.width = '100%';
        canvas.style.height = '100%';
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;
        var context = canvas.getContext('2d');
        this.setState({
            canvas: canvas,
            context: context,
            dimentions: { w: canvas.width, h: canvas.height },
        });
    };
    FormSurface.isMobile = function () {
        return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    };
    FormSurface.prototype.handleOnMouseDown = function (e) {
        var activeZone = this.props.activeZone;
        if (activeZone) {
            return;
        }
        var rect = this.state.canvas.getBoundingClientRect();
        this.state.context.beginPath();
        if (FormSurface.isMobile()) {
            this.setState({
                coordinates: {
                    startPoint: {
                        X: e.targetTouches[0].pageX - rect.left,
                        Y: e.targetTouches[0].pageY - rect.top,
                    },
                },
            });
        }
        else {
            this.setState({
                coordinates: {
                    startPoint: {
                        X: e.clientX - rect.left,
                        Y: e.clientY - rect.top,
                    },
                },
            });
        }
        this.setState({
            drawing: true,
        });
    };
    FormSurface.prototype.handleOnMouseMove = function (e) {
        var activeZone = this.props.activeZone;
        if (activeZone) {
            return;
        }
        e.preventDefault();
        var _a = this.state, drawing = _a.drawing, lastX = _a.lastX, lastY = _a.lastY, canvas = _a.canvas, coordinates = _a.coordinates, dimentions = _a.dimentions;
        if (drawing) {
            var rect = canvas.getBoundingClientRect();
            var currentX = void 0;
            var currentY = void 0;
            if (FormSurface.isMobile()) {
                coordinates.current = {
                    X: e.targetTouches[0].pageX - rect.left,
                    Y: e.targetTouches[0].pageY - rect.top,
                };
            }
            else {
                coordinates.current = {
                    X: e.clientX - rect.left,
                    Y: e.clientY - rect.top,
                };
            }
            var scale = dimentions.h / canvas.offsetHeight;
            this.draw(coordinates, scale);
        }
    };
    FormSurface.prototype.handleonMouseUp = function (e) {
        var _a = this.props, activeZone = _a.activeZone, formImage = _a.formImage, width = _a.width, dispatch = _a.dispatch;
        if (activeZone) {
            return;
        }
        //e.preventDefault();
        var _b = this.state, canvas = _b.canvas, dimentions = _b.dimentions, coordinates = _b.coordinates, context = _b.context;
        //const scale = dimentions.h/canvas.offsetHeight;
        //const imageScale = formImage.height/canvas.offsetHeight;
        var imageScale = formImage.width / width;
        var startPoint = coordinates.startPoint, current = coordinates.current;
        var newState = { drawing: false };
        if (startPoint && current) {
            dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__reducer__["a" /* default */])().addZone(formImage, startPoint.X * imageScale, startPoint.Y * imageScale, current.X * imageScale, current.Y * imageScale));
        }
        /*newState.myPos = {
                start:{X:startPoint.X*imageScale,Y:startPoint.Y*imageScale},
                end:{X:current.X*imageScale,Y:current.Y*imageScale}
            };*/
        this.setState(newState);
        if (canvas && context)
            context.clearRect(0, 0, canvas.width, canvas.height);
    };
    FormSurface.prototype.draw = function (coordinates, scale) {
        var brushColor = this.props.brushColor;
        var _a = this.state, context = _a.context, canvas = _a.canvas, dimentions = _a.dimentions;
        var startPoint = coordinates.startPoint, lastDrawPoint = coordinates.lastDrawPoint, current = coordinates.current;
        if (!this.hasDrawing) {
            if (current.X - startPoint.X < 10 && current.Y - startPoint.Y < 10) {
                //barely any mouse move may be the person does actually want to draw
                return;
            }
        }
        if (lastDrawPoint) {
            context.clearRect((startPoint.X - 2) * scale, (startPoint.Y - 2) * scale, (lastDrawPoint.X - startPoint.X + 4) * scale, (lastDrawPoint.Y - startPoint.Y + 4) * scale);
        }
        context.lineWidth = 0;
        context.fillStyle = brushColor || 'rgba(255, 255, 0, 0.45)';
        context.fillRect(startPoint.X * scale, startPoint.Y * scale, (current.X - startPoint.X) * scale, (current.Y - startPoint.Y) * scale);
        this.hasDrawing = true;
        coordinates.lastDrawPoint = coordinates.current;
        this.setState({ coordinates: coordinates });
    };
    FormSurface.prototype.render = function () {
        var _this = this;
        var _a = this.props, formImage = _a.formImage, width = _a.width, zones = _a.zones, activeZone = _a.activeZone, availableFields = _a.availableFields, detectedArray = _a.detectedArray, dispatch = _a.dispatch;
        //const { canvas, context } = this.state;
        console.log('zones', zones);
        var imgWidth = width + 'px';
        var imgHeight = formImage.height * (width / formImage.width) + 'px';
        var imageScale = formImage.width / width;
        var canvasStyle = {
            backgroundColor: 'rgba(255, 255, 255, 0)',
            position: 'absolute',
            top: '0px',
            right: '0px',
            width: '100%',
            height: '100%',
        };
        if (activeZone)
            canvasStyle.cursor = 'crosshair';
        return (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", { style: {
                width: imgWidth,
                height: imgHeight,
                position: 'relative',
                margin: 'auto',
                cursor: 'crosshair',
            } },
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("img", { src: formImage.path, style: { position: 'absolute', top: '0px', right: '0px', width: '100%', height: '100%' } }),
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("canvas", { style: canvasStyle, ref: function (ref) { return (_this.CanvasRef = ref); }, onMouseDown: this.handleOnMouseDown.bind(this), onTouchStart: this.handleOnMouseDown.bind(this), onMouseMove: this.handleOnMouseMove.bind(this), onTouchMove: this.handleOnMouseMove.bind(this), onMouseUp: this.handleonMouseUp.bind(this), onTouchEnd: this.handleonMouseUp.bind(this) }),
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_4__zoneList__["a" /* default */], { formImage: formImage, zones: zones, activeZone: activeZone, detectedArray: detectedArray, imageScale: imageScale, availableFields: availableFields, dispatch: dispatch })));
    };
    return FormSurface;
}(__WEBPACK_IMPORTED_MODULE_0_react__["Component"]));
/* harmony default export */ __webpack_exports__["a"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_react_redux__["connect"])(function (state, ownprops) {
    var formsState = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__reducer__["a" /* default */])().getCurrentState(state);
    var projectState = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6__projects_reducer__["a" /* default */])().getCurrentState(state);
    var availableFields = [];
    var takenFields = __WEBPACK_IMPORTED_MODULE_2_lodash__["map"]((formsState && formsState.currentlyEditing && formsState.currentlyEditing.zones) || [], function (zone) { return zone.id; });
    if (projectState && projectState.selectedProject) {
        availableFields = __WEBPACK_IMPORTED_MODULE_2_lodash__["filter"](projectState.selectedProject.fields, function (f) { return !__WEBPACK_IMPORTED_MODULE_2_lodash__["includes"](takenFields, f.displayName); });
    }
    return __WEBPACK_IMPORTED_MODULE_2_lodash__["assign"]({ availableFields: availableFields }, formsState && formsState.currentlyEditing);
})(FormSurface));


/***/ }),

/***/ 1647:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_bootstrap__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_bootstrap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__reducer__ = __webpack_require__(1200);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_select__ = __webpack_require__(538);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_select___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_react_select__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_toggle_button__ = __webpack_require__(1150);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_toggle_button___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react_toggle_button__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__generated_ZoneTypeModel__ = __webpack_require__(1598);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_base_asyncLoader__ = __webpack_require__(16);
var __assign = (this && this.__assign) || Object.assign || function(t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
        s = arguments[i];
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
            t[p] = s[p];
    }
    return t;
};








var RecognizedLoader = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7_base_asyncLoader__["d" /* createLoaderView */])();
var ZoneDetails = function (_a) {
    var dispatch = _a.dispatch, availableFields = _a.availableFields, zone = _a.zone, recognizedAsync = _a.recognizedAsync, formImage = _a.formImage;
    var prOptions = __WEBPACK_IMPORTED_MODULE_1_lodash__["map"](availableFields, function (field) {
        return { value: field.displayName, label: field.displayName };
    });
    if (zone.id && 'forms_recognizerField' != zone.id)
        prOptions = __WEBPACK_IMPORTED_MODULE_1_lodash__["concat"](prOptions, { value: zone.id, label: zone.id });
    prOptions = __WEBPACK_IMPORTED_MODULE_1_lodash__["concat"](prOptions, {
        value: 'forms_recognizerField',
        label: (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Tooltip"], { id: 'recognizertooltip' }, "This options marks this zone to be used to determine if the page is to be processed by this form") },
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("span", null, "Form recognizer"))),
    });
    var selectedOption = __WEBPACK_IMPORTED_MODULE_1_lodash__["find"](prOptions, function (o) { return zone && zone.id == o.label; });
    var OcrToggletooltip = __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Tooltip"], { id: 'ocrtooltip' },
        "Using ",
        zone.type);
    var OcrToggleLabelClass = 'fa fa-' + (__WEBPACK_IMPORTED_MODULE_6__generated_ZoneTypeModel__["a" /* ZoneTypeModel */].barcode == zone.type ? 'barcode' : 'font');
    var OcrToggleLabel = (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: OcrToggletooltip },
        __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("i", { className: OcrToggleLabelClass, style: { margin: 'auto' } })));
    var OcrActiveLable = (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Tooltip"], { id: 'tobarcodetooltip' }, "Switch to OCR") },
        __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("i", { className: 'fa fa-font', style: { margin: 'auto' } })));
    var BarActiveLable = (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Tooltip"], { id: 'tobarcodetooltip' }, "Switch to Barcode") },
        __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("i", { className: 'fa fa-barcode', style: { margin: 'auto' } })));
    var regexValidtionState = null;
    var colourStyles = {
        control: function (styles) { return (__assign({}, styles, { backgroundColor: 'white', borderRadius: 0 })); },
        option: function (styles, _a) {
            var data = _a.data, isDisabled = _a.isDisabled, isFocused = _a.isFocused, isSelected = _a.isSelected;
            return (__assign({}, styles, { 
                //backgroundColor: isSelected ? 'orange' : (isFocused ? '#ffa50045' : 'white'),
                backgroundColor: isFocused ? '#ffa50045' : 'white', color: 'black' }));
        },
    };
    if (recognizedAsync && recognizedAsync.result) {
        if (recognizedAsync.result.regExError)
            regexValidtionState = 'error';
        if (recognizedAsync.result.computed)
            regexValidtionState = 'success';
    }
    return (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", { style: { minWidth: 300, margin: 5, textAlign: 'center' } },
        __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", { style: { height: 55 } }, recognizedAsync && (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"](RecognizedLoader, { asyncResult: recognizedAsync, prompt: 'detecting' }, recognizedAsync.result && (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("textarea", { readOnly: true, style: { width: '100%' }, value: recognizedAsync.result.text || '' }))))),
        __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", null,
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", { style: { float: 'left', paddingRight: '5px', paddingTop: 8 } },
                __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_5_react_toggle_button___default.a, { thumbIcon: OcrToggleLabel, value: __WEBPACK_IMPORTED_MODULE_6__generated_ZoneTypeModel__["a" /* ZoneTypeModel */].barcode == zone.type, activeLabel: OcrActiveLable, inactiveLabel: BarActiveLable, onToggle: function () {
                        return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__reducer__["a" /* default */])().updateZonePropRecalculate(formImage, zone, 'type', __WEBPACK_IMPORTED_MODULE_6__generated_ZoneTypeModel__["a" /* ZoneTypeModel */].barcode == zone.type ? __WEBPACK_IMPORTED_MODULE_6__generated_ZoneTypeModel__["a" /* ZoneTypeModel */].ocr : __WEBPACK_IMPORTED_MODULE_6__generated_ZoneTypeModel__["a" /* ZoneTypeModel */].barcode));
                    }, disabled: true, colors: {
                        activeThumb: {
                            base: '#f37029',
                        },
                        inactiveThumb: {
                            base: '#f37029',
                        },
                        active: {
                            base: '#286090db',
                        },
                        inactive: {
                            base: '#286090db',
                        },
                    } })),
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["FormGroup"], { style: { marginLeft: 55, marginBottom: 0 }, controlId: 'formValidationSuccess2', validationState: zone.id ? 'success' : 'error', bsSize: 'sm' },
                __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", { className: 'input-group', style: { zIndex: 50 } },
                    __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("span", { className: 'input-group-addon' }, "@"),
                    __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_4_react_select___default.a, { value: selectedOption, placeholder: 'Select field...', onChange: function (selected) {
                            dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__reducer__["a" /* default */])().updateZoneProp(zone, 'id', (selected || {}).value));
                        }, options: prOptions, searchable: true, clearable: true, getOptionValue: function (f) {
                            return 'forms_recognizerField' == f.value ? 'Forms recognizer' : f.label;
                        } })),
                __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["FormControl"].Feedback, null))),
        zone.id && 'forms_recognizerField' == zone.id ? (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", { style: { margin: 5 } },
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["FormGroup"], { bsSize: 'sm' },
                __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["InputGroup"], { style: { maxWidth: 150, float: 'right' } },
                    __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["InputGroup"].Addon, null,
                        __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Tooltip"], { id: 'accuracytooltip' },
                                "Tolerance of the match (between 0 to 10) ",
                                __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("br", null),
                                " 0 being a perfect match",
                                ' ') },
                            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("span", null, "Tolerance"))),
                    __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["FormControl"], { type: 'number', value: zone.ocrTolerance || 3, onChange: function (e) {
                            return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__reducer__["a" /* default */])().updateZoneProp(zone, 'ocrTolerance', e.target.value));
                        } }))),
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", { style: { clear: 'both' } }))) : (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["FormGroup"], { style: { textAlign: 'right' } },
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Checkbox"], { inline: true, checked: zone.isBreakField, onClick: function (_) {
                    return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__reducer__["a" /* default */])().updateZoneProp(zone, 'isBreakField', !zone.isBreakField));
                }, onChange: function () { } },
                __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Tooltip"], { id: 'breakFieldtooltip' }, "This field when diffenet starts a new document") },
                    __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("span", null, " Is break field"))))),
        __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["FormGroup"], { controlId: 'regexFormControl', validationState: regexValidtionState },
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["InputGroup"], null,
                __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["InputGroup"].Addon, null,
                    __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["OverlayTrigger"], { placement: 'bottom', overlay: __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Tooltip"], { id: 'regextooltip' }, "Regular expression to parse recognized value") },
                        __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("i", { className: 'fa fa-puzzle-piece', style: { margin: 'auto' } }))),
                __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["FormControl"], { type: 'text', placeholder: 'Regular expression...', value: zone.regex || '', onChange: function (e) {
                        return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__reducer__["a" /* default */])().updateZonePropRecalculate(formImage, zone, 'regex', e.target.value));
                    } })),
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["FormControl"].Feedback, null)),
        zone.regex && recognizedAsync && recognizedAsync.result && (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", null, recognizedAsync.result.regExError ? (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("small", { className: 'text-danger' },
            "Invalid Regex: ",
            recognizedAsync.result.regExError)) : (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", null,
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("h4", null, "Computed value"),
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("textarea", { readOnly: true, style: { width: '100%' }, value: recognizedAsync.result.computed || '' }))))),
        __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["ButtonToolbar"], null,
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Button"], { bsStyle: 'success', bsSize: 'small', style: { float: 'right' }, disabled: !(zone.id && !zone.id.startsWith('newzone_')), onClick: function (_) {
                    return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__reducer__["a" /* default */])().updateAutomationProp(formImage, 'activeZone', null));
                } }, "Done"),
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Button"], { bsStyle: 'danger', bsSize: 'small', style: { float: 'right' }, onClick: function (_) { return dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__reducer__["a" /* default */])().removeZone(zone)); } }, "Remove zone"))));
};
/* harmony default export */ __webpack_exports__["a"] = (ZoneDetails);


/***/ }),

/***/ 1648:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__reducer__ = __webpack_require__(1200);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_bootstrap__ = __webpack_require__(25);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_bootstrap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__zoneDetails__ = __webpack_require__(1647);




var ZoneList = function (_a) {
    var zones = _a.zones, activeZone = _a.activeZone, detectedArray = _a.detectedArray, availableFields = _a.availableFields, imageScale = _a.imageScale, formImage = _a.formImage, dispatch = _a.dispatch;
    return (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", null, (zones || []).map(function (zone, zoneI) {
        var fieldBG = '#2860906e';
        if (zone.isBreakField)
            fieldBG = 'rgba(0, 255, 0, 0.45)';
        else if (zone.id == 'forms_recognizerField')
            fieldBG = '#f8d51e73';
        return (__WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("div", { key: zoneI, style: {
                position: 'absolute',
                backgroundColor: fieldBG,
                textAlign: 'left',
                top: zone.y / imageScale,
                left: zone.x / imageScale,
                height: zone.height / imageScale,
                width: zone.width / imageScale,
            } },
            __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Dropdown"], { id: 'zoneDrop' + zoneI, className: 'transparentDropDown', open: activeZone && zone.clientReference == activeZone.clientReference, onToggle: function () {
                    if (zone === activeZone)
                        return;
                    if (activeZone)
                        return;
                    dispatch(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__reducer__["a" /* default */])().updateAutomationProp(formImage, 'activeZone', zone));
                } },
                __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Dropdown"].Toggle, null,
                    __WEBPACK_IMPORTED_MODULE_0_react__["createElement"]("i", { className: 'fa fa-crosshairs' })),
                __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_2_react_bootstrap__["Dropdown"].Menu, null,
                    __WEBPACK_IMPORTED_MODULE_0_react__["createElement"](__WEBPACK_IMPORTED_MODULE_3__zoneDetails__["a" /* default */], { formImage: formImage, availableFields: availableFields, zone: zone, recognizedAsync: detectedArray && detectedArray[zone.clientReference], dispatch: dispatch })))));
    })));
};
/* harmony default export */ __webpack_exports__["a"] = (ZoneList);


/***/ }),

/***/ 1729:
/***/ (function(module, exports) {

// empty (null-loader)

/***/ })

};;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9DbGllbnRBcHAvY29tcG9uZW50cy9mb3Jtcy9FZGl0b3IudHN4Iiwid2VicGFjazovLy8uL0NsaWVudEFwcC9jb21wb25lbnRzL2Zvcm1zL2Zvcm1TdXJmYWNlLnRzeCIsIndlYnBhY2s6Ly8vLi9DbGllbnRBcHAvY29tcG9uZW50cy9mb3Jtcy96b25lRGV0YWlscy50c3giLCJ3ZWJwYWNrOi8vLy4vQ2xpZW50QXBwL2NvbXBvbmVudHMvZm9ybXMvem9uZUxpc3QudHN4Iiwid2VicGFjazovLy8uL0NsaWVudEFwcC9jb21wb25lbnRzL2Zvcm1zL2Zvcm1FZGl0b3IuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQjtBQUVLO0FBQ0g7QUFhSDtBQUNzRDtBQUV2QztBQUlDO0FBQ007QUFDVDtBQUNhO0FBYW5ELElBQU0sb0JBQW9CLEdBQUcsQ0FDM0IscURBQUMsK0RBQWMsSUFDYixTQUFTLEVBQUMsUUFBUSxFQUNsQixPQUFPLEVBQ0wscURBQUMsd0RBQU8sSUFBQyxFQUFFLEVBQUMsb0JBQW9CLHNFQUV0QjtJQUdaLDREQUFHLFNBQVMsRUFBQyxxQkFBcUIsRUFBQyxLQUFLLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUksQ0FDakQsQ0FDbEIsQ0FBQztBQUVGLElBQU0sWUFBWSxHQUFHLFVBQUMsRUFBa0I7UUFBaEIsa0NBQWM7SUFBTyxRQUMzQyxxREFBQyxnRUFBVSxJQUNULFVBQVUsRUFBRSxFQUFFLGNBQWMsa0JBQUUsRUFDOUIsTUFBTSxFQUFDLDJCQUEyQixFQUNsQyxNQUFNLEVBQUUsVUFBQyxPQUFPO1lBQ2QsbURBRUUsVUFBVSxPQUFPO2dCQUNmLE9BQU8sQ0FBRSxtQkFBTyxDQUFDLElBQWdCLENBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN0RCxDQUFDLGdFQUVGLENBQUM7UUFDSixDQUFDLEdBQ0QsQ0FDSDtBQWQ0QyxDQWM1QyxDQUFDO0FB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REFBUSxDQUFDLE1BQU07b0JBQ2QsNERBQUcsU0FBUyxFQUFDLGtCQUFrQixHQUFLLENBQ3BCO2dCQUVsQixxREFBQyx5REFBUSxDQUFDLElBQUk7b0JBQ1oscURBQUMsNkRBQVcsSUFDVixTQUFTLEVBQUUsU0FBUyxFQUNwQixlQUFlLEVBQUUsZUFBZSxFQUNoQyxJQUFJLEVBQUUsSUFBSSxFQUNWLGVBQWUsRUFBRSxhQUFhLElBQUksYUFBYSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsRUFDckUsUUFBUSxFQUFFLFFBQVEsR0FDbEIsQ0FDWSxDQUNQLENBQ1AsQ0FDUCxDQUFDO0lBQ0osQ0FBQyxDQUFDLENBQ0UsQ0FDUDtBQWxESyxDQWtETCxDQUFDO0FBRUYseURBQWUsUUFBUSxFQUFDOzs7Ozs7OztBQ2xGeEIsc0IiLCJmaWxlIjoiNi5jNmM1YWZlOGY0Y2IwZTA2MzlhZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9mb3JtRWRpdG9yLmNzcyc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBCdXR0b25Ub29sYmFyLFxuICBGb3JtQ29udHJvbCxcbiAgRm9ybUdyb3VwLFxuICBJbnB1dEdyb3VwLFxuICBNb2RhbCxcbiAgT3ZlcmxheVRyaWdnZXIsXG4gIFRhYixcbiAgVGFicyxcbiAgVG9vbHRpcCxcbn0gZnJvbSAncmVhY3QtYm9vdHN0cmFwJztcbmltcG9ydCBlbnN1cmVBdXRvbWF0aW9ucywgeyBBdXRvbWF0aW9uVGFza0VkaXQsIElGb3Jtc1N0YXRlIH0gZnJvbSAnLi9yZWR1Y2VyJztcblxuaW1wb3J0IEZvcm1TdXJmYWNlIGZyb20gJy4vZm9ybVN1cmZhY2UnO1xuaW1wb3J0IHsgTGlzdERvY3NIZWxwZXIgfSBmcm9tICcuLi9saXN0RG9jdW1lbnRzL3JlZHVjZXJIZWxwZXInO1xuaW1wb3J0IHsgTGlzdERvY3VtZW50UGFnZXNIZWxwZXIgfSBmcm9tICcuLi9saXN0UGFnZXMvcmVkdWNlckhlbHBlcic7XG5pbXBvcnQgeyBQYWdlSW1hZ2VNb2RlbCB9IGZyb20gJy4uLy4uL2dlbmVyYXRlZC9QYWdlSW1hZ2VNb2RlbCc7XG5pbXBvcnQgU3BsaXRQb2ludCBmcm9tICdiYXNlL3NwbGl0UG9pbnQnO1xuaW1wb3J0IFRvZ2dsZUJ1dHRvbiBmcm9tICdyZWFjdC10b2dnbGUtYnV0dG9uJztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgZW5zdXJlV29ya3NwYWNlIGZyb20gJy4uL3dvcmtzcGFjZS9yZWR1Y2VyJztcblxudHlwZSBDb21wb25lbnRQcm9wcyA9IHtcbiAgbGlzdERvY3NIZWxwZXI6IExpc3REb2NzSGVscGVyO1xuICBsaXN0UGFnZXNIZWxwZXI6IExpc3REb2N1bWVudFBhZ2VzSGVscGVyO1xufTtcblxudHlwZSBDb25uZWN0ZWRQcm9wcyA9IEF1dG9tYXRpb25UYXNrRWRpdCAmIHtcbiAgYWN0aXZlUGFnZTogUGFnZUltYWdlTW9kZWw7XG4gIHNsaWRlclZhbHVlOiBudW1iZXI7XG4gIGhhc0JhcmNvZGVGZWF0dXJlOiBib29sZWFuO1xufTtcblxuY29uc3Qgc2hvd0N1cnJlbnRQYWdlTGFiZWwgPSAoXG4gIDxPdmVybGF5VHJpZ2dlclxuICAgIHBsYWNlbWVudD0nYm90dG9tJ1xuICAgIG92ZXJsYXk9e1xuICAgICAgPFRvb2x0aXAgaWQ9J3Nob3djdXJyZW50dG9vbHRpcCc+XG4gICAgICAgIFNob3cgT0NSIHJlc3VsdHMgb24gY3VycmVudCBwYWdlIGluc3RlYWQgb2YgRm9ybSByZWZlcmVuY2UgcGFnZVxuICAgICAgPC9Ub29sdGlwPlxuICAgIH1cbiAgPlxuICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtc3RpY2t5LW5vdGUtbycgc3R5bGU9e3sgbWFyZ2luOiAnYXV0bycgfX0gLz5cbiAgPC9PdmVybGF5VHJpZ2dlcj5cbik7XG5cbmNvbnN0IFNjcmlwdEVkaXRvciA9ICh7IGxpc3REb2NzSGVscGVyIH0pID0+IChcbiAgPFNwbGl0UG9pbnRcbiAgICBjaGlsZFByb3BzPXt7IGxpc3REb2NzSGVscGVyIH19XG4gICAgcHJvbXB0PSdMb2FkaW5nIHNjcmlwdHMgbW9kdWxlLi4uJ1xuICAgIGxvYWRlcj17KHJlc29sdmUpID0+IHtcbiAgICAgIHJlcXVpcmUuZW5zdXJlKFxuICAgICAgICBbXSxcbiAgICAgICAgZnVuY3Rpb24gKHJlcXVpcmUpIHtcbiAgICAgICAgICByZXNvbHZlKChyZXF1aXJlKCcuL3NjcmlwdEVkaXRvcicpIGFzIGFueSkuZGVmYXVsdCk7XG4gICAgICAgIH0sXG4gICAgICAgICdzY3JpcHRpbmcnLFxuICAgICAgKTtcbiAgICB9fVxuICAvPlxuKTtcblxudHlwZSBWaWV3UHJvcHMgPSBDb25uZWN0ZWRQcm9wcyAmIENvbXBvbmVudFByb3BzICYgeyBkaXNwYXRjaCB9O1xuXG5jb25zdCBGb3JtRWRpdG9yOiBSZWFjdC5TdGF0ZWxlc3NDb21wb25lbnQ8Vmlld1Byb3BzPiA9ICh7XG4gIGlkOiBhdXRvbWF0aW9uSWQsXG4gIGRpc3BhdGNoLFxuICBuYW1lLFxuICBhY3RpdmVUYWIsXG4gIHVzaW5nUmVmZXJlbmNlSW1hZ2UsXG4gIHNsaWRlclZhbHVlLFxuICBhY3RpdmVQYWdlLFxuICBsaXN0RG9jc0hlbHBlcixcbiAgaGFzQmFyY29kZUZlYXR1cmUsXG59KSA9PiAoXG4gIDxNb2RhbFxuICAgIGRpYWxvZ0NsYXNzTmFtZT0nbW9kZWwtZnVsbCdcbiAgICBzaG93PXt0cnVlfVxuICAgIG9uSGlkZT17KCkgPT4gZGlzcGF0Y2goZW5zdXJlQXV0b21hdGlvbnMoKS5lZGl0U2NyaXB0KG51bGwpKX1cbiAgICBiYWNrZHJvcD0nc3RhdGljJ1xuICA+XG4gICAgPE1vZGFsLkhlYWRlcj5cbiAgICAgIDxCdXR0b25Ub29sYmFyIHN0eWxlPXt7IGZsb2F0OiAncmlnaHQnIH19PlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgYnNTdHlsZT0ncHJpbWFyeSdcbiAgICAgICAgICBkaXNhYmxlZD17IShuYW1lICYmIG5hbWUubGVuZ3RoID49IDQpfVxuICAgICAgICAgIG9uQ2xpY2s9eyhfKSA9PiBkaXNwYXRjaChlbnN1cmVBdXRvbWF0aW9ucygpLnNhdmVDdXJyZW50KGxpc3REb2NzSGVscGVyLCBhY3RpdmVQYWdlKSl9XG4gICAgICAgID5cbiAgICAgICAgICA8T3ZlcmxheVRyaWdnZXJcbiAgICAgICAgICAgIHBsYWNlbWVudD0nYm90dG9tJ1xuICAgICAgICAgICAgb3ZlcmxheT17PFRvb2x0aXAgaWQ9J3NhdmVmb3JtdG9vbHRpcCc+U2F2ZSBjaGFuZ2VzIHRvIHRoaXMgYXV0b21hdGlvbjwvVG9vbHRpcD59XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS1jaGVjay1zcXVhcmUgZmEtMngnPjwvaT5cbiAgICAgICAgICA8L092ZXJsYXlUcmlnZ2VyPlxuICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IGRpc3BhdGNoKGVuc3VyZUF1dG9tYXRpb25zKCkuZWRpdFNjcmlwdChudWxsKSl9IGJzU3R5bGU9J2xpbmsnPlxuICAgICAgICAgIDxPdmVybGF5VHJpZ2dlclxuICAgICAgICAgICAgcGxhY2VtZW50PSdib3R0b20nXG4gICAgICAgICAgICBvdmVybGF5PXtcbiAgICAgICAgICAgICAgPFRvb2x0aXAgaWQ9J2Nsb3NlZm9ybXRvb2x0aXAnPlxuICAgICAgICAgICAgICAgIENsb3NlIGF1dG9tYXRpb24gZWRpdG9yIDxiciAvPlxuICAgICAgICAgICAgICAgIDxzbWFsbD51bnNhdmVkIGNoYW5nZXMgd2lsbCBiZSBsb3N0PC9zbWFsbD5cbiAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtdGltZXMgZmEtMnggdGV4dC1kYW5nZXInPjwvaT5cbiAgICAgICAgICA8L092ZXJsYXlUcmlnZ2VyPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvQnV0dG9uVG9vbGJhcj5cblxuICAgICAgPEZvcm1Hcm91cFxuICAgICAgICBjb250cm9sSWQ9J2Zvcm1uYW1lRm9ybUNvbnRyb2wnXG4gICAgICAgIHZhbGlkYXRpb25TdGF0ZT17KG5hbWUgJiYgbmFtZS5sZW5ndGgpID4gMyA/ICdzdWNjZXNzJyA6ICd3YXJuaW5nJ31cbiAgICAgICAgc3R5bGU9e3sgZmxvYXQ6ICdsZWZ0JywgbWF4V2lkdGg6IDQwMCB9fVxuICAgICAgPlxuICAgICAgICA8SW5wdXRHcm91cD5cbiAgICAgICAgICA8SW5wdXRHcm91cC5BZGRvbj5cbiAgICAgICAgICAgIDxPdmVybGF5VHJpZ2dlclxuICAgICAgICAgICAgICBwbGFjZW1lbnQ9J2JvdHRvbSdcbiAgICAgICAgICAgICAgb3ZlcmxheT17XG4gICAgICAgICAgICAgICAgPFRvb2x0aXAgaWQ9J3JlZ2V4dG9vbHRpcCc+XG4gICAgICAgICAgICAgICAgICBBdXRvbWF0aW9uIG5hbWUgPHNtYWxsPjQgY2hhcmFjdGVycyArPC9zbWFsbD5cbiAgICAgICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS1yZXR3ZWV0JyBzdHlsZT17eyBtYXJnaW46ICdhdXRvJyB9fSAvPlxuICAgICAgICAgICAgPC9PdmVybGF5VHJpZ2dlcj5cbiAgICAgICAgICA8L0lucHV0R3JvdXAuQWRkb24+XG4gICAgICAgICAgPEZvcm1Db250cm9sXG4gICAgICAgICAgICB0eXBlPSd0ZXh0J1xuICAgICAgICAgICAgcGxhY2Vob2xkZXI9J0F1dG9tYXRpb24gbmFtZS4uLidcbiAgICAgICAgICAgIHZhbHVlPXtuYW1lIHx8ICcnfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlOiBhbnkpID0+XG4gICAgICAgICAgICAgIGRpc3BhdGNoKGVuc3VyZUF1dG9tYXRpb25zKCkudXBkYXRlQXV0b21hdGlvblByb3AoYWN0aXZlUGFnZSwgJ25hbWUnLCBlLnRhcmdldC52YWx1ZSkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9JbnB1dEdyb3VwPlxuICAgICAgICA8Rm9ybUNvbnRyb2wuRmVlZGJhY2sgLz5cbiAgICAgIDwvRm9ybUdyb3VwPlxuXG4gICAgICB7KCFhY3RpdmVUYWIgfHwgYWN0aXZlVGFiID09ICdmb3JtJykgJiYgKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcsIHBhZGRpbmc6ICcwcHggMTBweCcgfX0+XG4gICAgICAgICAge3NsaWRlclZhbHVlIDwgMTUwMCAmJiAoXG4gICAgICAgICAgICA8T3ZlcmxheVRyaWdnZXJcbiAgICAgICAgICAgICAgcGxhY2VtZW50PSdib3R0b20nXG4gICAgICAgICAgICAgIG92ZXJsYXk9ezxUb29sdGlwIGlkPSdpbmN0b29sdGlwJz5JbmNyZWFzZSBpbWFnZSBzaXplPC9Ub29sdGlwPn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIGJzU3R5bGU9eydsaW5rJ31cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBwYWRkaW5nOiAnMHB4JywgbWFyZ2luTGVmdDogJzVweCcgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBkaXNwYXRjaChlbnN1cmVBdXRvbWF0aW9ucygpLnpvb20oKSl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7JyAnfVxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtc2VhcmNoLXBsdXMgZmEtMnggdGV4dC1wcmltYXJ5Jz48L2k+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9PdmVybGF5VHJpZ2dlcj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAge3NsaWRlclZhbHVlID4gNjAgJiYgKFxuICAgICAgICAgICAgPE92ZXJsYXlUcmlnZ2VyXG4gICAgICAgICAgICAgIHBsYWNlbWVudD0nYm90dG9tJ1xuICAgICAgICAgICAgICBvdmVybGF5PXs8VG9vbHRpcCBpZD0nZGVjdG9vbHRpcCc+RGVjcmVhc2UgaW1hZ2Ugc2l6ZTwvVG9vbHRpcD59XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBic1N0eWxlPXsnbGluayd9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzBweCcgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBkaXNwYXRjaChlbnN1cmVBdXRvbWF0aW9ucygpLnpvb20odHJ1ZSkpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgeycgJ31cbiAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9J2ZhIGZhLXNlYXJjaC1taW51cyAgZmEtMnggdGV4dC1wcmltYXJ5Jz48L2k+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9PdmVybGF5VHJpZ2dlcj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZmxvYXQ6ICdsZWZ0JywgcGFkZGluZ1JpZ2h0OiAnNXB4JywgcGFkZGluZ1RvcDogOCB9fT5cbiAgICAgICAgeyFhY3RpdmVUYWIgfHwgYWN0aXZlVGFiID09ICdmb3JtJyA/IChcbiAgICAgICAgICA8VG9nZ2xlQnV0dG9uXG4gICAgICAgICAgICB0aHVtYkljb249e3Nob3dDdXJyZW50UGFnZUxhYmVsfVxuICAgICAgICAgICAgdmFsdWU9eyF1c2luZ1JlZmVyZW5jZUltYWdlfVxuICAgICAgICAgICAgb25Ub2dnbGU9eyhfKSA9PlxuICAgICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICBlbnN1cmVBdXRvbWF0aW9ucygpLnVwZGF0ZUF1dG9tYXRpb25Qcm9wKFxuICAgICAgICAgICAgICAgICAgYWN0aXZlUGFnZSxcbiAgICAgICAgICAgICAgICAgICd1c2luZ1JlZmVyZW5jZUltYWdlJyxcbiAgICAgICAgICAgICAgICAgICF1c2luZ1JlZmVyZW5jZUltYWdlLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbG9ycz17e1xuICAgICAgICAgICAgICBhY3RpdmVUaHVtYjoge1xuICAgICAgICAgICAgICAgIGJhc2U6ICcjZjM3MDI5JyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaW5hY3RpdmVUaHVtYjoge1xuICAgICAgICAgICAgICAgIGJhc2U6ICcjZjM3MDI5JyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8T3ZlcmxheVRyaWdnZXJcbiAgICAgICAgICAgIHBsYWNlbWVudD0nYm90dG9tJ1xuICAgICAgICAgICAgb3ZlcmxheT17XG4gICAgICAgICAgICAgIDxUb29sdGlwIGlkPSdzZWFyY2hTY3JpcHRUZW1wbGF0ZXN0b29sdGlwJz5DcmVhdGUgU2NyaXB0IGZyb20gdGVtcGxhdGU8L1Rvb2x0aXA+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgc3R5bGU9e3sgcGFkZGluZzogJzBweCcsIG1hcmdpbkxlZnQ6ICc1cHgnIH19XG4gICAgICAgICAgICAgIGhyZWY9J2h0dHA6Ly9zY2FubmluZ3Jldm9sdXRpb24uY29tL3Jldi1zY3JpcHQtdGVtcGxhdGVzLydcbiAgICAgICAgICAgICAgdGFyZ2V0PSdfYmxhbmsnXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHsnICd9XG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtbmV3c3BhcGVyLW8gdGV4dC1wcmltYXJ5Jz48L2k+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9PdmVybGF5VHJpZ2dlcj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7YXV0b21hdGlvbklkICYmIChcbiAgICAgICAgPGRpdiBzdHlsZT17eyBmbG9hdDogJ2xlZnQnLCBwYWRkaW5nUmlnaHQ6ICc1cHgnLCBwYWRkaW5nVG9wOiA4IH19PlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGJzU3R5bGU9J2RhbmdlcidcbiAgICAgICAgICAgIGJzU2l6ZT0neHMnXG4gICAgICAgICAgICBzdHlsZT17eyBvcGFjaXR5OiAwLjggfX1cbiAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goZW5zdXJlQXV0b21hdGlvbnMoKS5yZW1vdmVBdXRvbWF0aW9uKGF1dG9tYXRpb25JZCkpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8T3ZlcmxheVRyaWdnZXJcbiAgICAgICAgICAgICAgcGxhY2VtZW50PSdib3R0b20nXG4gICAgICAgICAgICAgIG92ZXJsYXk9ezxUb29sdGlwIGlkPSdmb3JtdG9vbHRpcCc+UmVtb3ZlIGF1dG9tYXRlZCB0YXNrPC9Ub29sdGlwPn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4+ZGVsZXRlIHRoaXM8L3NwYW4+XG4gICAgICAgICAgICA8L092ZXJsYXlUcmlnZ2VyPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgPC9Nb2RhbC5IZWFkZXI+XG5cbiAgICA8TW9kYWwuQm9keT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3B1cENvbG9ycycgc3R5bGU9e3sgdGV4dEFsaWduOiAnY2VudGVyJywgcGFkZGluZzogJzVweCcgfX0+XG4gICAgICAgIDxUYWJzXG4gICAgICAgICAgYWN0aXZlS2V5PXthY3RpdmVUYWJ9XG4gICAgICAgICAgb25TZWxlY3Q9eyhrZXkpID0+XG4gICAgICAgICAgICBkaXNwYXRjaChlbnN1cmVBdXRvbWF0aW9ucygpLnVwZGF0ZUF1dG9tYXRpb25Qcm9wKGFjdGl2ZVBhZ2UsICdhY3RpdmVUYWInLCBrZXkpKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjbGFzc05hbWU9J3JpZ2h0VGFicydcbiAgICAgICAgICBtb3VudE9uRW50ZXI9e3RydWV9XG4gICAgICAgICAgaWQ9J2F1dG9tYXRpb25UYWJzJ1xuICAgICAgICA+XG4gICAgICAgICAge2hhc0JhcmNvZGVGZWF0dXJlICYmIChcbiAgICAgICAgICAgIDxUYWIgZXZlbnRLZXk9J2Zvcm0nIHRpdGxlPSdBdXRvbWF0ZWQgcmVjb2duaXRpb24nPlxuICAgICAgICAgICAgICB7YWN0aXZlUGFnZSA/IChcbiAgICAgICAgICAgICAgICA8Rm9ybVN1cmZhY2Ugd2lkdGg9e3NsaWRlclZhbHVlfSBmb3JtSW1hZ2U9e2FjdGl2ZVBhZ2V9IC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9J3RleHQtZGFuZ2VyJz5ObyBpbWFnZSBmb3IgdGhlIGZvcm08L2gzPlxuICAgICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICAgIFBsZWFzZSBjbG9zZSB0aGlzIGVkaXRvciBhbmQgdXBsb2FkIGFuIGltYWdlIGluIHRoZSBuZXcgZG9jdW1lbnQgdmlldyB0b1xuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmUgYXV0b21hdGVkIHJlY29nbml0aW9uXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L1RhYj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgPFRhYiBldmVudEtleT0nc2NyaXB0JyB0aXRsZT0nU2NyaXB0Jz5cbiAgICAgICAgICAgIDxTY3JpcHRFZGl0b3IgbGlzdERvY3NIZWxwZXI9e2xpc3REb2NzSGVscGVyfSAvPlxuICAgICAgICAgIDwvVGFiPlxuICAgICAgICA8L1RhYnM+XG4gICAgICA8L2Rpdj5cbiAgICA8L01vZGFsLkJvZHk+XG4gIDwvTW9kYWw+XG4pO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0PENvbm5lY3RlZFByb3BzLCB7IGRpc3BhdGNoIH0sIENvbXBvbmVudFByb3BzPigoc3RhdGUsIG93bnByb3BzKSA9PiB7XG4gIGNvbnN0IHBhZ2VzU3RhdGUgPSBvd25wcm9wcy5saXN0UGFnZXNIZWxwZXIuZ2V0bXlTdGF0ZShzdGF0ZSk7XG4gIGNvbnN0IGZvcm1zU3RhdGUgPSBlbnN1cmVBdXRvbWF0aW9ucygpLmdldEN1cnJlbnRTdGF0ZShzdGF0ZSk7XG4gIGNvbnN0IGRvY0xpc3RTdGF0ZSA9IG93bnByb3BzLmxpc3REb2NzSGVscGVyLmdldG15U3RhdGUoc3RhdGUpO1xuXG4gIGNvbnN0IHJlZmVyZW5jZUltYWdlID1cbiAgICBmb3Jtc1N0YXRlICYmXG4gICAgZm9ybXNTdGF0ZS5jdXJyZW50bHlFZGl0aW5nICYmXG4gICAgZm9ybXNTdGF0ZS5jdXJyZW50bHlFZGl0aW5nLnBhZ2VzICYmXG4gICAgZm9ybXNTdGF0ZS5jdXJyZW50bHlFZGl0aW5nLnBhZ2VzLmxlbmd0aCA+IDAgJiZcbiAgICBmb3Jtc1N0YXRlLmN1cnJlbnRseUVkaXRpbmcucGFnZXNbMF07XG5cbiAgbGV0IGFjdGl2ZVBhZ2UgPVxuICAgIGZvcm1zU3RhdGUgJiZcbiAgICBmb3Jtc1N0YXRlLmN1cnJlbnRseUVkaXRpbmcgJiZcbiAgICBmb3Jtc1N0YXRlLmN1cnJlbnRseUVkaXRpbmcudXNpbmdSZWZlcmVuY2VJbWFnZSAmJlxuICAgIHJlZmVyZW5jZUltYWdlO1xuXG4gIGlmICghYWN0aXZlUGFnZSkgYWN0aXZlUGFnZSA9IHBhZ2VzU3RhdGUgJiYgcGFnZXNTdGF0ZS5hY3RpdmVQYWdlO1xuXG4gIGlmIChcbiAgICAhYWN0aXZlUGFnZSAmJlxuICAgIGRvY0xpc3RTdGF0ZSAmJlxuICAgIGRvY0xpc3RTdGF0ZS5hY3RpdmVEb2MgJiZcbiAgICBkb2NMaXN0U3RhdGUuYWN0aXZlRG9jLnBhZ2VzICYmXG4gICAgZG9jTGlzdFN0YXRlLmFjdGl2ZURvYy5wYWdlcy5sZW5ndGggPiAwXG4gIClcbiAgICBhY3RpdmVQYWdlID0gZG9jTGlzdFN0YXRlLmFjdGl2ZURvYy5wYWdlc1swXTtcblxuICBpZiAoIWFjdGl2ZVBhZ2UgJiYgcmVmZXJlbmNlSW1hZ2UpIGFjdGl2ZVBhZ2UgPSByZWZlcmVuY2VJbWFnZTtcblxuICBjb25zdCBiYXJDb2RlRmVhdHVyZSA9IGVuc3VyZVdvcmtzcGFjZSgpLmdldEZlYXR1cmUoJ2JhcmNvZGUnLCBzdGF0ZSk7XG5cbiAgcmV0dXJuIF8uYXNzaWduKFxuICAgIHt9LFxuICAgIGZvcm1zU3RhdGUgJiYgZm9ybXNTdGF0ZS5jdXJyZW50bHlFZGl0aW5nLFxuICAgIHtcbiAgICAgIGFjdGl2ZVBhZ2UsXG4gICAgICBzbGlkZXJWYWx1ZTogKGZvcm1zU3RhdGUgJiYgZm9ybXNTdGF0ZS5pbWFnZVdpZHRoKSB8fCA1MjAsXG4gICAgICBoYXNCYXJjb2RlRmVhdHVyZTogISFiYXJDb2RlRmVhdHVyZSxcbiAgICB9LFxuICAgIC8vaWYgbm8gZm9ybXMgcmVjb2duaXRpb24gZm9yY2UgYWN0aXZlVGFidG9iZSBhbHdheXMgc2NyaXB0XG4gICAgISFiYXJDb2RlRmVhdHVyZSA/IHt9IDogeyBhY3RpdmVUYWI6ICdzY3JpcHQnIH0sXG4gICk7XG59KShGb3JtRWRpdG9yKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL0NsaWVudEFwcC9jb21wb25lbnRzL2Zvcm1zL0VkaXRvci50c3giLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgZW5zdXJlQXV0b21hdGlvbnMsIHsgQXV0b21hdGlvblRhc2tFZGl0IH0gZnJvbSAnLi9yZWR1Y2VyJztcblxuaW1wb3J0IHsgUGFnZUltYWdlTW9kZWwgfSBmcm9tICcuLi8uLi9nZW5lcmF0ZWQvUGFnZUltYWdlTW9kZWwnO1xuaW1wb3J0IHsgUHJvamVjdEZpZWxkTW9kZWwgfSBmcm9tICcuLi8uLi9nZW5lcmF0ZWQvUHJvamVjdEZpZWxkTW9kZWwnO1xuaW1wb3J0IFpvbmVMaXN0IGZyb20gJy4vem9uZUxpc3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBlbnN1cmVQcm9qZWN0cyBmcm9tICcuLi9wcm9qZWN0cy9yZWR1Y2VyJztcblxudHlwZSBDb21wb25lbnRQcm9wcyA9IHtcbiAgZm9ybUltYWdlOiBQYWdlSW1hZ2VNb2RlbDtcbiAgd2lkdGg6IG51bWJlcjtcbn07XG5cbnR5cGUgQ29ubmVjdGVkUHJvcHMgPSBBdXRvbWF0aW9uVGFza0VkaXQgJiB7XG4gIGF2YWlsYWJsZUZpZWxkczogUHJvamVjdEZpZWxkTW9kZWxbXTtcbn07XG5cbnR5cGUgVmlld1Byb3BzID0gQ29ubmVjdGVkUHJvcHMgJiBDb21wb25lbnRQcm9wcyAmIHsgZGlzcGF0Y2ggfTtcblxudHlwZSBEUG9pbnRzID0geyBYOiBudW1iZXI7IFk6IG51bWJlciB9O1xuXG50eXBlIERDb29yZGluYXRlcyA9IHtcbiAgc3RhcnRQb2ludDogRFBvaW50cztcbiAgY3VycmVudD86IERQb2ludHM7XG4gIGxhc3REcmF3UG9pbnQ/OiBEUG9pbnRzO1xufTtcblxudHlwZSBTdGF0ZVByb3BzID0ge1xuICBjYW52YXM/OiBhbnk7XG4gIGNvbnRleHQ/OiBhbnk7XG4gIGRpbWVudGlvbnM/OiB7IHc6IG51bWJlcjsgaDogbnVtYmVyIH07XG4gIGNvb3JkaW5hdGVzPzogRENvb3JkaW5hdGVzO1xuICBkcmF3aW5nPzogYm9vbGVhbjtcbiAgbGFzdFg/OiBudW1iZXI7XG4gIGxhc3RZPzogbnVtYmVyO1xufTtcblxuY2xhc3MgRm9ybVN1cmZhY2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Vmlld1Byb3BzLCBTdGF0ZVByb3BzPiB7XG4gIENhbnZhc1JlZjogYW55ID0gbnVsbDtcbiAgc3RhdGU6IFN0YXRlUHJvcHMgPSB7fTtcblxuICBoYXNEcmF3aW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgY2FudmFzOiBhbnkgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLkNhbnZhc1JlZik7XG5cbiAgICBjYW52YXMuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgY2FudmFzLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICBjYW52YXMud2lkdGggPSBjYW52YXMub2Zmc2V0V2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy5vZmZzZXRIZWlnaHQ7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNhbnZhcyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBkaW1lbnRpb25zOiB7IHc6IGNhbnZhcy53aWR0aCwgaDogY2FudmFzLmhlaWdodCB9LFxuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGlzTW9iaWxlKCkge1xuICAgIHJldHVybiAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QoXG4gICAgICBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICk7XG4gIH1cblxuICBoYW5kbGVPbk1vdXNlRG93bihlKSB7XG4gICAgY29uc3QgeyBhY3RpdmVab25lIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChhY3RpdmVab25lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVjdCA9IHRoaXMuc3RhdGUuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHRoaXMuc3RhdGUuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBpZiAoRm9ybVN1cmZhY2UuaXNNb2JpbGUoKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNvb3JkaW5hdGVzOiB7XG4gICAgICAgICAgc3RhcnRQb2ludDoge1xuICAgICAgICAgICAgWDogZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIC0gcmVjdC5sZWZ0LFxuICAgICAgICAgICAgWTogZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZIC0gcmVjdC50b3AsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY29vcmRpbmF0ZXM6IHtcbiAgICAgICAgICBzdGFydFBvaW50OiB7XG4gICAgICAgICAgICBYOiBlLmNsaWVudFggLSByZWN0LmxlZnQsXG4gICAgICAgICAgICBZOiBlLmNsaWVudFkgLSByZWN0LnRvcCxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkcmF3aW5nOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlT25Nb3VzZU1vdmUoZSkge1xuICAgIGNvbnN0IHsgYWN0aXZlWm9uZSB9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoYWN0aXZlWm9uZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IHsgZHJhd2luZywgbGFzdFgsIGxhc3RZLCBjYW52YXMsIGNvb3JkaW5hdGVzLCBkaW1lbnRpb25zIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKGRyYXdpbmcpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBsZXQgY3VycmVudFg7XG4gICAgICBsZXQgY3VycmVudFk7XG5cbiAgICAgIGlmIChGb3JtU3VyZmFjZS5pc01vYmlsZSgpKSB7XG4gICAgICAgIGNvb3JkaW5hdGVzLmN1cnJlbnQgPSB7XG4gICAgICAgICAgWDogZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYIC0gcmVjdC5sZWZ0LFxuICAgICAgICAgIFk6IGUudGFyZ2V0VG91Y2hlc1swXS5wYWdlWSAtIHJlY3QudG9wLFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29vcmRpbmF0ZXMuY3VycmVudCA9IHtcbiAgICAgICAgICBYOiBlLmNsaWVudFggLSByZWN0LmxlZnQsXG4gICAgICAgICAgWTogZS5jbGllbnRZIC0gcmVjdC50b3AsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHNjYWxlID0gZGltZW50aW9ucy5oIC8gY2FudmFzLm9mZnNldEhlaWdodDtcblxuICAgICAgdGhpcy5kcmF3KGNvb3JkaW5hdGVzLCBzY2FsZSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlb25Nb3VzZVVwKGUpIHtcbiAgICBjb25zdCB7IGFjdGl2ZVpvbmUsIGZvcm1JbWFnZSwgd2lkdGgsIGRpc3BhdGNoIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChhY3RpdmVab25lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy9lLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgeyBjYW52YXMsIGRpbWVudGlvbnMsIGNvb3JkaW5hdGVzLCBjb250ZXh0IH0gPSB0aGlzLnN0YXRlO1xuICAgIC8vY29uc3Qgc2NhbGUgPSBkaW1lbnRpb25zLmgvY2FudmFzLm9mZnNldEhlaWdodDtcblxuICAgIC8vY29uc3QgaW1hZ2VTY2FsZSA9IGZvcm1JbWFnZS5oZWlnaHQvY2FudmFzLm9mZnNldEhlaWdodDtcbiAgICBjb25zdCBpbWFnZVNjYWxlID0gZm9ybUltYWdlLndpZHRoIC8gd2lkdGg7XG5cbiAgICBjb25zdCB7IHN0YXJ0UG9pbnQsIGN1cnJlbnQgfSA9IGNvb3JkaW5hdGVzO1xuXG4gICAgbGV0IG5ld1N0YXRlID0geyBkcmF3aW5nOiBmYWxzZSB9O1xuICAgIGlmIChzdGFydFBvaW50ICYmIGN1cnJlbnQpIHtcbiAgICAgIGRpc3BhdGNoKFxuICAgICAgICBlbnN1cmVBdXRvbWF0aW9ucygpLmFkZFpvbmUoXG4gICAgICAgICAgZm9ybUltYWdlLFxuICAgICAgICAgIHN0YXJ0UG9pbnQuWCAqIGltYWdlU2NhbGUsXG4gICAgICAgICAgc3RhcnRQb2ludC5ZICogaW1hZ2VTY2FsZSxcbiAgICAgICAgICBjdXJyZW50LlggKiBpbWFnZVNjYWxlLFxuICAgICAgICAgIGN1cnJlbnQuWSAqIGltYWdlU2NhbGUsXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH1cbiAgICAvKm5ld1N0YXRlLm15UG9zID0ge1xuICAgICAgICAgICAgc3RhcnQ6e1g6c3RhcnRQb2ludC5YKmltYWdlU2NhbGUsWTpzdGFydFBvaW50LlkqaW1hZ2VTY2FsZX0sXG4gICAgICAgICAgICBlbmQ6e1g6Y3VycmVudC5YKmltYWdlU2NhbGUsWTpjdXJyZW50LlkqaW1hZ2VTY2FsZX1cbiAgICAgICAgfTsqL1xuXG4gICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG5cbiAgICBpZiAoY2FudmFzICYmIGNvbnRleHQpIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gIH1cblxuICBkcmF3KGNvb3JkaW5hdGVzOiBEQ29vcmRpbmF0ZXMsIHNjYWxlOiBudW1iZXIpIHtcbiAgICBjb25zdCB7IGJydXNoQ29sb3IgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBjb25zdCB7IGNvbnRleHQsIGNhbnZhcywgZGltZW50aW9ucyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7IHN0YXJ0UG9pbnQsIGxhc3REcmF3UG9pbnQsIGN1cnJlbnQgfSA9IGNvb3JkaW5hdGVzO1xuXG4gICAgaWYgKCF0aGlzLmhhc0RyYXdpbmcpIHtcbiAgICAgIGlmIChjdXJyZW50LlggLSBzdGFydFBvaW50LlggPCAxMCAmJiBjdXJyZW50LlkgLSBzdGFydFBvaW50LlkgPCAxMCkge1xuICAgICAgICAvL2JhcmVseSBhbnkgbW91c2UgbW92ZSBtYXkgYmUgdGhlIHBlcnNvbiBkb2VzIGFjdHVhbGx5IHdhbnQgdG8gZHJhd1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxhc3REcmF3UG9pbnQpIHtcbiAgICAgIGNvbnRleHQuY2xlYXJSZWN0KFxuICAgICAgICAoc3RhcnRQb2ludC5YIC0gMikgKiBzY2FsZSxcbiAgICAgICAgKHN0YXJ0UG9pbnQuWSAtIDIpICogc2NhbGUsXG4gICAgICAgIChsYXN0RHJhd1BvaW50LlggLSBzdGFydFBvaW50LlggKyA0KSAqIHNjYWxlLFxuICAgICAgICAobGFzdERyYXdQb2ludC5ZIC0gc3RhcnRQb2ludC5ZICsgNCkgKiBzY2FsZSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnRleHQubGluZVdpZHRoID0gMDtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGJydXNoQ29sb3IgfHwgJ3JnYmEoMjU1LCAyNTUsIDAsIDAuNDUpJztcbiAgICBjb250ZXh0LmZpbGxSZWN0KFxuICAgICAgc3RhcnRQb2ludC5YICogc2NhbGUsXG4gICAgICBzdGFydFBvaW50LlkgKiBzY2FsZSxcbiAgICAgIChjdXJyZW50LlggLSBzdGFydFBvaW50LlgpICogc2NhbGUsXG4gICAgICAoY3VycmVudC5ZIC0gc3RhcnRQb2ludC5ZKSAqIHNjYWxlLFxuICAgICk7XG5cbiAgICB0aGlzLmhhc0RyYXdpbmcgPSB0cnVlO1xuICAgIGNvb3JkaW5hdGVzLmxhc3REcmF3UG9pbnQgPSBjb29yZGluYXRlcy5jdXJyZW50O1xuICAgIHRoaXMuc2V0U3RhdGUoeyBjb29yZGluYXRlczogY29vcmRpbmF0ZXMgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBmb3JtSW1hZ2UsIHdpZHRoLCB6b25lcywgYWN0aXZlWm9uZSwgYXZhaWxhYmxlRmllbGRzLCBkZXRlY3RlZEFycmF5LCBkaXNwYXRjaCB9ID1cbiAgICAgIHRoaXMucHJvcHM7XG4gICAgLy9jb25zdCB7IGNhbnZhcywgY29udGV4dCB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGNvbnNvbGUubG9nKCd6b25lcycsIHpvbmVzKTtcblxuICAgIGNvbnN0IGltZ1dpZHRoID0gd2lkdGggKyAncHgnO1xuICAgIGNvbnN0IGltZ0hlaWdodCA9IGZvcm1JbWFnZS5oZWlnaHQgKiAod2lkdGggLyBmb3JtSW1hZ2Uud2lkdGgpICsgJ3B4JztcblxuICAgIGNvbnN0IGltYWdlU2NhbGUgPSBmb3JtSW1hZ2Uud2lkdGggLyB3aWR0aDtcblxuICAgIGxldCBjYW52YXNTdHlsZTogYW55ID0ge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwKScsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogJzBweCcsXG4gICAgICByaWdodDogJzBweCcsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgfTtcblxuICAgIGlmIChhY3RpdmVab25lKSBjYW52YXNTdHlsZS5jdXJzb3IgPSAnY3Jvc3NoYWlyJztcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgd2lkdGg6IGltZ1dpZHRoLFxuICAgICAgICAgIGhlaWdodDogaW1nSGVpZ2h0LFxuICAgICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAgIG1hcmdpbjogJ2F1dG8nLFxuICAgICAgICAgIGN1cnNvcjogJ2Nyb3NzaGFpcicsXG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxpbWdcbiAgICAgICAgICBzcmM9e2Zvcm1JbWFnZS5wYXRofVxuICAgICAgICAgIHN0eWxlPXt7IHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6ICcwcHgnLCByaWdodDogJzBweCcsIHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnIH19XG4gICAgICAgIC8+XG5cbiAgICAgICAgPGNhbnZhc1xuICAgICAgICAgIHN0eWxlPXtjYW52YXNTdHlsZX1cbiAgICAgICAgICByZWY9eyhyZWYpID0+ICh0aGlzLkNhbnZhc1JlZiA9IHJlZil9XG4gICAgICAgICAgb25Nb3VzZURvd249e3RoaXMuaGFuZGxlT25Nb3VzZURvd24uYmluZCh0aGlzKX1cbiAgICAgICAgICBvblRvdWNoU3RhcnQ9e3RoaXMuaGFuZGxlT25Nb3VzZURvd24uYmluZCh0aGlzKX1cbiAgICAgICAgICBvbk1vdXNlTW92ZT17dGhpcy5oYW5kbGVPbk1vdXNlTW92ZS5iaW5kKHRoaXMpfVxuICAgICAgICAgIG9uVG91Y2hNb3ZlPXt0aGlzLmhhbmRsZU9uTW91c2VNb3ZlLmJpbmQodGhpcyl9XG4gICAgICAgICAgb25Nb3VzZVVwPXt0aGlzLmhhbmRsZW9uTW91c2VVcC5iaW5kKHRoaXMpfVxuICAgICAgICAgIG9uVG91Y2hFbmQ9e3RoaXMuaGFuZGxlb25Nb3VzZVVwLmJpbmQodGhpcyl9XG4gICAgICAgID48L2NhbnZhcz5cblxuICAgICAgICB7XG4gICAgICAgICAgPFpvbmVMaXN0XG4gICAgICAgICAgICBmb3JtSW1hZ2U9e2Zvcm1JbWFnZX1cbiAgICAgICAgICAgIHpvbmVzPXt6b25lc31cbiAgICAgICAgICAgIGFjdGl2ZVpvbmU9e2FjdGl2ZVpvbmV9XG4gICAgICAgICAgICBkZXRlY3RlZEFycmF5PXtkZXRlY3RlZEFycmF5fVxuICAgICAgICAgICAgaW1hZ2VTY2FsZT17aW1hZ2VTY2FsZX1cbiAgICAgICAgICAgIGF2YWlsYWJsZUZpZWxkcz17YXZhaWxhYmxlRmllbGRzfVxuICAgICAgICAgICAgZGlzcGF0Y2g9e2Rpc3BhdGNofVxuICAgICAgICAgIC8+XG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdDxDb25uZWN0ZWRQcm9wcywgeyBkaXNwYXRjaCB9LCBDb21wb25lbnRQcm9wcz4oKHN0YXRlLCBvd25wcm9wcykgPT4ge1xuICBjb25zdCBmb3Jtc1N0YXRlID0gZW5zdXJlQXV0b21hdGlvbnMoKS5nZXRDdXJyZW50U3RhdGUoc3RhdGUpO1xuICBjb25zdCBwcm9qZWN0U3RhdGUgPSBlbnN1cmVQcm9qZWN0cygpLmdldEN1cnJlbnRTdGF0ZShzdGF0ZSk7XG5cbiAgbGV0IGF2YWlsYWJsZUZpZWxkczogUHJvamVjdEZpZWxkTW9kZWxbXSA9IFtdO1xuXG4gIGNvbnN0IHRha2VuRmllbGRzID0gXy5tYXAoXG4gICAgKGZvcm1zU3RhdGUgJiYgZm9ybXNTdGF0ZS5jdXJyZW50bHlFZGl0aW5nICYmIGZvcm1zU3RhdGUuY3VycmVudGx5RWRpdGluZy56b25lcykgfHwgW10sXG4gICAgKHpvbmUpID0+IHpvbmUuaWQsXG4gICk7XG5cbiAgaWYgKHByb2plY3RTdGF0ZSAmJiBwcm9qZWN0U3RhdGUuc2VsZWN0ZWRQcm9qZWN0KSB7XG4gICAgYXZhaWxhYmxlRmllbGRzID0gXy5maWx0ZXIoXG4gICAgICBwcm9qZWN0U3RhdGUuc2VsZWN0ZWRQcm9qZWN0LmZpZWxkcyxcbiAgICAgIChmKSA9PiAhXy5pbmNsdWRlcyh0YWtlbkZpZWxkcywgZi5kaXNwbGF5TmFtZSksXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBfLmFzc2lnbih7IGF2YWlsYWJsZUZpZWxkczogYXZhaWxhYmxlRmllbGRzIH0sIGZvcm1zU3RhdGUgJiYgZm9ybXNTdGF0ZS5jdXJyZW50bHlFZGl0aW5nKTtcbn0pKEZvcm1TdXJmYWNlKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL0NsaWVudEFwcC9jb21wb25lbnRzL2Zvcm1zL2Zvcm1TdXJmYWNlLnRzeCIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBCdXR0b25Ub29sYmFyLFxuICBDaGVja2JveCxcbiAgQ29udHJvbExhYmVsLFxuICBGb3JtQ29udHJvbCxcbiAgRm9ybUdyb3VwLFxuICBJbnB1dEdyb3VwLFxuICBPdmVybGF5VHJpZ2dlcixcbiAgVG9vbHRpcCxcbn0gZnJvbSAncmVhY3QtYm9vdHN0cmFwJztcbmltcG9ydCBlbnN1cmVBdXRvbWF0aW9ucywgeyBBdXRvbWF0aW9uVGFza0VkaXQgfSBmcm9tICcuL3JlZHVjZXInO1xuXG5pbXBvcnQgeyBEZXRlY3RSZXFSZXN1bHRNb2RlbCB9IGZyb20gJy4uLy4uL2dlbmVyYXRlZC9EZXRlY3RSZXFSZXN1bHRNb2RlbCc7XG5pbXBvcnQgeyBJQXN5bmNSZXN1bHQgfSBmcm9tICdiYXNlL2FzeW5jU3RhdGVNaWRkbGV3YXJlJztcbmltcG9ydCB7IE9DUlpvbmVNb2RlbCB9IGZyb20gJy4uLy4uL2dlbmVyYXRlZC9PQ1Jab25lTW9kZWwnO1xuaW1wb3J0IHsgUGFnZUltYWdlTW9kZWwgfSBmcm9tICcuLi8uLi9nZW5lcmF0ZWQvUGFnZUltYWdlTW9kZWwnO1xuaW1wb3J0IHsgUHJvamVjdEZpZWxkTW9kZWwgfSBmcm9tICcuLi8uLi9nZW5lcmF0ZWQvUHJvamVjdEZpZWxkTW9kZWwnO1xuaW1wb3J0IFNlbGVjdCBmcm9tICdyZWFjdC1zZWxlY3QnO1xuaW1wb3J0IFRvZ2dsZUJ1dHRvbiBmcm9tICdyZWFjdC10b2dnbGUtYnV0dG9uJztcbmltcG9ydCB7IFpvbmVUeXBlTW9kZWwgfSBmcm9tICcuLi8uLi9nZW5lcmF0ZWQvWm9uZVR5cGVNb2RlbCc7XG5pbXBvcnQgeyBjcmVhdGVMb2FkZXJWaWV3IH0gZnJvbSAnYmFzZS9hc3luY0xvYWRlcic7XG5cbmNvbnN0IFJlY29nbml6ZWRMb2FkZXIgPSBjcmVhdGVMb2FkZXJWaWV3PERldGVjdFJlcVJlc3VsdE1vZGVsPigpO1xuXG50eXBlIENvbXBvbmVudFByb3BzID0ge1xuICBmb3JtSW1hZ2U6IFBhZ2VJbWFnZU1vZGVsO1xuICBhdmFpbGFibGVGaWVsZHM6IFByb2plY3RGaWVsZE1vZGVsW107XG4gIGRpc3BhdGNoOiBhbnk7XG4gIHpvbmU6IE9DUlpvbmVNb2RlbDtcbiAgcmVjb2duaXplZEFzeW5jOiBJQXN5bmNSZXN1bHQ8RGV0ZWN0UmVxUmVzdWx0TW9kZWw+O1xufTtcblxuY29uc3QgWm9uZURldGFpbHM6IFJlYWN0LlN0YXRlbGVzc0NvbXBvbmVudDxDb21wb25lbnRQcm9wcz4gPSAoe1xuICBkaXNwYXRjaCxcbiAgYXZhaWxhYmxlRmllbGRzLFxuICB6b25lLFxuICByZWNvZ25pemVkQXN5bmMsXG4gIGZvcm1JbWFnZSxcbn0pID0+IHtcbiAgbGV0IHByT3B0aW9uczogeyB2YWx1ZTogc3RyaW5nOyBsYWJlbDogYW55IH1bXSA9IF8ubWFwKGF2YWlsYWJsZUZpZWxkcywgKGZpZWxkKSA9PiB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IGZpZWxkLmRpc3BsYXlOYW1lLCBsYWJlbDogZmllbGQuZGlzcGxheU5hbWUgfTtcbiAgfSk7XG5cbiAgaWYgKHpvbmUuaWQgJiYgJ2Zvcm1zX3JlY29nbml6ZXJGaWVsZCcgIT0gem9uZS5pZClcbiAgICBwck9wdGlvbnMgPSBfLmNvbmNhdChwck9wdGlvbnMsIHsgdmFsdWU6IHpvbmUuaWQsIGxhYmVsOiB6b25lLmlkIH0pO1xuXG4gIHByT3B0aW9ucyA9IF8uY29uY2F0KHByT3B0aW9ucywge1xuICAgIHZhbHVlOiAnZm9ybXNfcmVjb2duaXplckZpZWxkJyxcbiAgICBsYWJlbDogKFxuICAgICAgPE92ZXJsYXlUcmlnZ2VyXG4gICAgICAgIHBsYWNlbWVudD0nYm90dG9tJ1xuICAgICAgICBvdmVybGF5PXtcbiAgICAgICAgICA8VG9vbHRpcCBpZD0ncmVjb2duaXplcnRvb2x0aXAnPlxuICAgICAgICAgICAgVGhpcyBvcHRpb25zIG1hcmtzIHRoaXMgem9uZSB0byBiZSB1c2VkIHRvIGRldGVybWluZSBpZiB0aGUgcGFnZSBpcyB0byBiZSBwcm9jZXNzZWQgYnlcbiAgICAgICAgICAgIHRoaXMgZm9ybVxuICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgfVxuICAgICAgPlxuICAgICAgICA8c3Bhbj5Gb3JtIHJlY29nbml6ZXI8L3NwYW4+XG4gICAgICA8L092ZXJsYXlUcmlnZ2VyPlxuICAgICksXG4gIH0pO1xuXG4gIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gXy5maW5kKHByT3B0aW9ucywgKG8pID0+IHpvbmUgJiYgem9uZS5pZCA9PSBvLmxhYmVsKTtcblxuICBjb25zdCBPY3JUb2dnbGV0b29sdGlwID0gPFRvb2x0aXAgaWQ9J29jcnRvb2x0aXAnPlVzaW5nIHt6b25lLnR5cGV9PC9Ub29sdGlwPjtcblxuICBjb25zdCBPY3JUb2dnbGVMYWJlbENsYXNzID0gJ2ZhIGZhLScgKyAoWm9uZVR5cGVNb2RlbC5iYXJjb2RlID09IHpvbmUudHlwZSA/ICdiYXJjb2RlJyA6ICdmb250Jyk7XG5cbiAgY29uc3QgT2NyVG9nZ2xlTGFiZWwgPSAoXG4gICAgPE92ZXJsYXlUcmlnZ2VyIHBsYWNlbWVudD0nYm90dG9tJyBvdmVybGF5PXtPY3JUb2dnbGV0b29sdGlwfT5cbiAgICAgIDxpIGNsYXNzTmFtZT17T2NyVG9nZ2xlTGFiZWxDbGFzc30gc3R5bGU9e3sgbWFyZ2luOiAnYXV0bycgfX0gLz5cbiAgICA8L092ZXJsYXlUcmlnZ2VyPlxuICApO1xuXG4gIGNvbnN0IE9jckFjdGl2ZUxhYmxlID0gKFxuICAgIDxPdmVybGF5VHJpZ2dlclxuICAgICAgcGxhY2VtZW50PSdib3R0b20nXG4gICAgICBvdmVybGF5PXs8VG9vbHRpcCBpZD0ndG9iYXJjb2RldG9vbHRpcCc+U3dpdGNoIHRvIE9DUjwvVG9vbHRpcD59XG4gICAgPlxuICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS1mb250JyBzdHlsZT17eyBtYXJnaW46ICdhdXRvJyB9fSAvPlxuICAgIDwvT3ZlcmxheVRyaWdnZXI+XG4gICk7XG5cbiAgY29uc3QgQmFyQWN0aXZlTGFibGUgPSAoXG4gICAgPE92ZXJsYXlUcmlnZ2VyXG4gICAgICBwbGFjZW1lbnQ9J2JvdHRvbSdcbiAgICAgIG92ZXJsYXk9ezxUb29sdGlwIGlkPSd0b2JhcmNvZGV0b29sdGlwJz5Td2l0Y2ggdG8gQmFyY29kZTwvVG9vbHRpcD59XG4gICAgPlxuICAgICAgPGkgY2xhc3NOYW1lPSdmYSBmYS1iYXJjb2RlJyBzdHlsZT17eyBtYXJnaW46ICdhdXRvJyB9fSAvPlxuICAgIDwvT3ZlcmxheVRyaWdnZXI+XG4gICk7XG5cbiAgbGV0IHJlZ2V4VmFsaWR0aW9uU3RhdGUgPSBudWxsO1xuXG4gIGNvbnN0IGNvbG91clN0eWxlcyA9IHtcbiAgICBjb250cm9sOiAoc3R5bGVzKSA9PiAoeyAuLi5zdHlsZXMsIGJhY2tncm91bmRDb2xvcjogJ3doaXRlJywgYm9yZGVyUmFkaXVzOiAwIH0pLFxuICAgIG9wdGlvbjogKHN0eWxlcywgeyBkYXRhLCBpc0Rpc2FibGVkLCBpc0ZvY3VzZWQsIGlzU2VsZWN0ZWQgfSkgPT4gKHtcbiAgICAgIC4uLnN0eWxlcyxcbiAgICAgIC8vYmFja2dyb3VuZENvbG9yOiBpc1NlbGVjdGVkID8gJ29yYW5nZScgOiAoaXNGb2N1c2VkID8gJyNmZmE1MDA0NScgOiAnd2hpdGUnKSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogaXNGb2N1c2VkID8gJyNmZmE1MDA0NScgOiAnd2hpdGUnLFxuICAgICAgY29sb3I6ICdibGFjaycsXG4gICAgfSksXG4gIH07XG5cbiAgaWYgKHJlY29nbml6ZWRBc3luYyAmJiByZWNvZ25pemVkQXN5bmMucmVzdWx0KSB7XG4gICAgaWYgKHJlY29nbml6ZWRBc3luYy5yZXN1bHQucmVnRXhFcnJvcikgcmVnZXhWYWxpZHRpb25TdGF0ZSA9ICdlcnJvcic7XG4gICAgaWYgKHJlY29nbml6ZWRBc3luYy5yZXN1bHQuY29tcHV0ZWQpIHJlZ2V4VmFsaWR0aW9uU3RhdGUgPSAnc3VjY2Vzcyc7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3sgbWluV2lkdGg6IDMwMCwgbWFyZ2luOiA1LCB0ZXh0QWxpZ246ICdjZW50ZXInIH19PlxuICAgICAgPGRpdiBzdHlsZT17eyBoZWlnaHQ6IDU1IH19PlxuICAgICAgICB7cmVjb2duaXplZEFzeW5jICYmIChcbiAgICAgICAgICA8UmVjb2duaXplZExvYWRlciBhc3luY1Jlc3VsdD17cmVjb2duaXplZEFzeW5jfSBwcm9tcHQ9J2RldGVjdGluZyc+XG4gICAgICAgICAgICB7cmVjb2duaXplZEFzeW5jLnJlc3VsdCAmJiAoXG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgIHJlYWRPbmx5XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJyB9fVxuICAgICAgICAgICAgICAgIHZhbHVlPXtyZWNvZ25pemVkQXN5bmMucmVzdWx0LnRleHQgfHwgJyd9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvUmVjb2duaXplZExvYWRlcj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcsIHBhZGRpbmdSaWdodDogJzVweCcsIHBhZGRpbmdUb3A6IDggfX0+XG4gICAgICAgICAgPFRvZ2dsZUJ1dHRvblxuICAgICAgICAgICAgdGh1bWJJY29uPXtPY3JUb2dnbGVMYWJlbH1cbiAgICAgICAgICAgIHZhbHVlPXtab25lVHlwZU1vZGVsLmJhcmNvZGUgPT0gem9uZS50eXBlfVxuICAgICAgICAgICAgYWN0aXZlTGFiZWw9e09jckFjdGl2ZUxhYmxlfVxuICAgICAgICAgICAgaW5hY3RpdmVMYWJlbD17QmFyQWN0aXZlTGFibGV9XG4gICAgICAgICAgICBvblRvZ2dsZT17KCkgPT5cbiAgICAgICAgICAgICAgZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgZW5zdXJlQXV0b21hdGlvbnMoKS51cGRhdGVab25lUHJvcFJlY2FsY3VsYXRlKFxuICAgICAgICAgICAgICAgICAgZm9ybUltYWdlLFxuICAgICAgICAgICAgICAgICAgem9uZSxcbiAgICAgICAgICAgICAgICAgICd0eXBlJyxcbiAgICAgICAgICAgICAgICAgIFpvbmVUeXBlTW9kZWwuYmFyY29kZSA9PSB6b25lLnR5cGUgPyBab25lVHlwZU1vZGVsLm9jciA6IFpvbmVUeXBlTW9kZWwuYmFyY29kZSxcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgY29sb3JzPXt7XG4gICAgICAgICAgICAgIGFjdGl2ZVRodW1iOiB7XG4gICAgICAgICAgICAgICAgYmFzZTogJyNmMzcwMjknLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBpbmFjdGl2ZVRodW1iOiB7XG4gICAgICAgICAgICAgICAgYmFzZTogJyNmMzcwMjknLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhY3RpdmU6IHtcbiAgICAgICAgICAgICAgICBiYXNlOiAnIzI4NjA5MGRiJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgaW5hY3RpdmU6IHtcbiAgICAgICAgICAgICAgICBiYXNlOiAnIzI4NjA5MGRiJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPjwvVG9nZ2xlQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8Rm9ybUdyb3VwXG4gICAgICAgICAgc3R5bGU9e3sgbWFyZ2luTGVmdDogNTUsIG1hcmdpbkJvdHRvbTogMCB9fVxuICAgICAgICAgIGNvbnRyb2xJZD0nZm9ybVZhbGlkYXRpb25TdWNjZXNzMidcbiAgICAgICAgICB2YWxpZGF0aW9uU3RhdGU9e3pvbmUuaWQgPyAnc3VjY2VzcycgOiAnZXJyb3InfVxuICAgICAgICAgIGJzU2l6ZT0nc20nXG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0naW5wdXQtZ3JvdXAnIHN0eWxlPXt7IHpJbmRleDogNTAgfX0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2lucHV0LWdyb3VwLWFkZG9uJz5APC9zcGFuPlxuICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRPcHRpb259XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdTZWxlY3QgZmllbGQuLi4nXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoc2VsZWN0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwYXRjaChlbnN1cmVBdXRvbWF0aW9ucygpLnVwZGF0ZVpvbmVQcm9wKHpvbmUsICdpZCcsIChzZWxlY3RlZCB8fCB7fSkudmFsdWUpKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgb3B0aW9ucz17cHJPcHRpb25zfVxuICAgICAgICAgICAgICBzZWFyY2hhYmxlPXt0cnVlfVxuICAgICAgICAgICAgICBjbGVhcmFibGU9e3RydWV9XG4gICAgICAgICAgICAgIGdldE9wdGlvblZhbHVlPXsoZikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAnZm9ybXNfcmVjb2duaXplckZpZWxkJyA9PSBmLnZhbHVlID8gJ0Zvcm1zIHJlY29nbml6ZXInIDogZi5sYWJlbDtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8Rm9ybUNvbnRyb2wuRmVlZGJhY2sgLz5cbiAgICAgICAgPC9Gb3JtR3JvdXA+XG4gICAgICA8L2Rpdj5cblxuICAgICAge3pvbmUuaWQgJiYgJ2Zvcm1zX3JlY29nbml6ZXJGaWVsZCcgPT0gem9uZS5pZCA/IChcbiAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW46IDUgfX0+XG4gICAgICAgICAgPEZvcm1Hcm91cCBic1NpemU9J3NtJz5cbiAgICAgICAgICAgIDxJbnB1dEdyb3VwIHN0eWxlPXt7IG1heFdpZHRoOiAxNTAsIGZsb2F0OiAncmlnaHQnIH19PlxuICAgICAgICAgICAgICA8SW5wdXRHcm91cC5BZGRvbj5cbiAgICAgICAgICAgICAgICA8T3ZlcmxheVRyaWdnZXJcbiAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD0nYm90dG9tJ1xuICAgICAgICAgICAgICAgICAgb3ZlcmxheT17XG4gICAgICAgICAgICAgICAgICAgIDxUb29sdGlwIGlkPSdhY2N1cmFjeXRvb2x0aXAnPlxuICAgICAgICAgICAgICAgICAgICAgIFRvbGVyYW5jZSBvZiB0aGUgbWF0Y2ggKGJldHdlZW4gMCB0byAxMCkgPGJyIC8+IDAgYmVpbmcgYSBwZXJmZWN0IG1hdGNoeycgJ31cbiAgICAgICAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPlRvbGVyYW5jZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L092ZXJsYXlUcmlnZ2VyPlxuICAgICAgICAgICAgICA8L0lucHV0R3JvdXAuQWRkb24+XG4gICAgICAgICAgICAgIDxGb3JtQ29udHJvbFxuICAgICAgICAgICAgICAgIHR5cGU9J251bWJlcidcbiAgICAgICAgICAgICAgICB2YWx1ZT17em9uZS5vY3JUb2xlcmFuY2UgfHwgM31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGU6IGFueSkgPT5cbiAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKGVuc3VyZUF1dG9tYXRpb25zKCkudXBkYXRlWm9uZVByb3Aoem9uZSwgJ29jclRvbGVyYW5jZScsIGUudGFyZ2V0LnZhbHVlKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0lucHV0R3JvdXA+XG4gICAgICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNsZWFyOiAnYm90aCcgfX0+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSA6IChcbiAgICAgICAgPEZvcm1Hcm91cCBzdHlsZT17eyB0ZXh0QWxpZ246ICdyaWdodCcgfX0+XG4gICAgICAgICAgPENoZWNrYm94XG4gICAgICAgICAgICBpbmxpbmVcbiAgICAgICAgICAgIGNoZWNrZWQ9e3pvbmUuaXNCcmVha0ZpZWxkfVxuICAgICAgICAgICAgb25DbGljaz17KF8pID0+XG4gICAgICAgICAgICAgIGRpc3BhdGNoKGVuc3VyZUF1dG9tYXRpb25zKCkudXBkYXRlWm9uZVByb3Aoem9uZSwgJ2lzQnJlYWtGaWVsZCcsICF6b25lLmlzQnJlYWtGaWVsZCkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4ge319XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPE92ZXJsYXlUcmlnZ2VyXG4gICAgICAgICAgICAgIHBsYWNlbWVudD0nYm90dG9tJ1xuICAgICAgICAgICAgICBvdmVybGF5PXtcbiAgICAgICAgICAgICAgICA8VG9vbHRpcCBpZD0nYnJlYWtGaWVsZHRvb2x0aXAnPlxuICAgICAgICAgICAgICAgICAgVGhpcyBmaWVsZCB3aGVuIGRpZmZlbmV0IHN0YXJ0cyBhIG5ldyBkb2N1bWVudFxuICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3Bhbj4gSXMgYnJlYWsgZmllbGQ8L3NwYW4+XG4gICAgICAgICAgICA8L092ZXJsYXlUcmlnZ2VyPlxuICAgICAgICAgIDwvQ2hlY2tib3g+XG4gICAgICAgIDwvRm9ybUdyb3VwPlxuICAgICAgKX1cblxuICAgICAgPEZvcm1Hcm91cCBjb250cm9sSWQ9J3JlZ2V4Rm9ybUNvbnRyb2wnIHZhbGlkYXRpb25TdGF0ZT17cmVnZXhWYWxpZHRpb25TdGF0ZX0+XG4gICAgICAgIDxJbnB1dEdyb3VwPlxuICAgICAgICAgIDxJbnB1dEdyb3VwLkFkZG9uPlxuICAgICAgICAgICAgPE92ZXJsYXlUcmlnZ2VyXG4gICAgICAgICAgICAgIHBsYWNlbWVudD0nYm90dG9tJ1xuICAgICAgICAgICAgICBvdmVybGF5PXtcbiAgICAgICAgICAgICAgICA8VG9vbHRpcCBpZD0ncmVnZXh0b29sdGlwJz5SZWd1bGFyIGV4cHJlc3Npb24gdG8gcGFyc2UgcmVjb2duaXplZCB2YWx1ZTwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9J2ZhIGZhLXB1enpsZS1waWVjZScgc3R5bGU9e3sgbWFyZ2luOiAnYXV0bycgfX0gLz5cbiAgICAgICAgICAgIDwvT3ZlcmxheVRyaWdnZXI+XG4gICAgICAgICAgPC9JbnB1dEdyb3VwLkFkZG9uPlxuICAgICAgICAgIDxGb3JtQ29udHJvbFxuICAgICAgICAgICAgdHlwZT0ndGV4dCdcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPSdSZWd1bGFyIGV4cHJlc3Npb24uLi4nXG4gICAgICAgICAgICB2YWx1ZT17em9uZS5yZWdleCB8fCAnJ31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZTogYW55KSA9PlxuICAgICAgICAgICAgICBkaXNwYXRjaChcbiAgICAgICAgICAgICAgICBlbnN1cmVBdXRvbWF0aW9ucygpLnVwZGF0ZVpvbmVQcm9wUmVjYWxjdWxhdGUoXG4gICAgICAgICAgICAgICAgICBmb3JtSW1hZ2UsXG4gICAgICAgICAgICAgICAgICB6b25lLFxuICAgICAgICAgICAgICAgICAgJ3JlZ2V4JyxcbiAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0lucHV0R3JvdXA+XG4gICAgICAgIDxGb3JtQ29udHJvbC5GZWVkYmFjayAvPlxuICAgICAgPC9Gb3JtR3JvdXA+XG5cbiAgICAgIHt6b25lLnJlZ2V4ICYmIHJlY29nbml6ZWRBc3luYyAmJiByZWNvZ25pemVkQXN5bmMucmVzdWx0ICYmIChcbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7cmVjb2duaXplZEFzeW5jLnJlc3VsdC5yZWdFeEVycm9yID8gKFxuICAgICAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT0ndGV4dC1kYW5nZXInPlxuICAgICAgICAgICAgICBJbnZhbGlkIFJlZ2V4OiB7cmVjb2duaXplZEFzeW5jLnJlc3VsdC5yZWdFeEVycm9yfVxuICAgICAgICAgICAgPC9zbWFsbD5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGg0PkNvbXB1dGVkIHZhbHVlPC9oND5cbiAgICAgICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICAgICAgcmVhZE9ubHlcbiAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogJzEwMCUnIH19XG4gICAgICAgICAgICAgICAgdmFsdWU9e3JlY29nbml6ZWRBc3luYy5yZXN1bHQuY29tcHV0ZWQgfHwgJyd9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxCdXR0b25Ub29sYmFyPlxuICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgYnNTdHlsZT0nc3VjY2VzcydcbiAgICAgICAgICBic1NpemU9J3NtYWxsJ1xuICAgICAgICAgIHN0eWxlPXt7IGZsb2F0OiAncmlnaHQnIH19XG4gICAgICAgICAgZGlzYWJsZWQ9eyEoem9uZS5pZCAmJiAhem9uZS5pZC5zdGFydHNXaXRoKCduZXd6b25lXycpKX1cbiAgICAgICAgICBvbkNsaWNrPXsoXykgPT5cbiAgICAgICAgICAgIGRpc3BhdGNoKGVuc3VyZUF1dG9tYXRpb25zKCkudXBkYXRlQXV0b21hdGlvblByb3AoZm9ybUltYWdlLCAnYWN0aXZlWm9uZScsIG51bGwpKVxuICAgICAgICAgIH1cbiAgICAgICAgPlxuICAgICAgICAgIERvbmVcbiAgICAgICAgPC9CdXR0b24+XG5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIGJzU3R5bGU9J2RhbmdlcidcbiAgICAgICAgICBic1NpemU9J3NtYWxsJ1xuICAgICAgICAgIHN0eWxlPXt7IGZsb2F0OiAncmlnaHQnIH19XG4gICAgICAgICAgb25DbGljaz17KF8pID0+IGRpc3BhdGNoKGVuc3VyZUF1dG9tYXRpb25zKCkucmVtb3ZlWm9uZSh6b25lKSl9XG4gICAgICAgID5cbiAgICAgICAgICBSZW1vdmUgem9uZVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvQnV0dG9uVG9vbGJhcj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFpvbmVEZXRhaWxzO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vQ2xpZW50QXBwL2NvbXBvbmVudHMvZm9ybXMvem9uZURldGFpbHMudHN4IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgZW5zdXJlQXV0b21hdGlvbnMsIHsgQXV0b21hdGlvblRhc2tFZGl0IH0gZnJvbSAnLi9yZWR1Y2VyJztcblxuaW1wb3J0IHsgRGV0ZWN0UmVxUmVzdWx0TW9kZWwgfSBmcm9tICcuLi8uLi9nZW5lcmF0ZWQvRGV0ZWN0UmVxUmVzdWx0TW9kZWwnO1xuaW1wb3J0IHsgRHJvcGRvd24gfSBmcm9tICdyZWFjdC1ib290c3RyYXAnO1xuaW1wb3J0IHsgSUFzeW5jUmVzdWx0IH0gZnJvbSAnYmFzZS9hc3luY1N0YXRlTWlkZGxld2FyZSc7XG5pbXBvcnQgeyBPQ1Jab25lTW9kZWwgfSBmcm9tICcuLi8uLi9nZW5lcmF0ZWQvT0NSWm9uZU1vZGVsJztcbmltcG9ydCB7IFBhZ2VJbWFnZU1vZGVsIH0gZnJvbSAnLi4vLi4vZ2VuZXJhdGVkL1BhZ2VJbWFnZU1vZGVsJztcbmltcG9ydCB7IFByb2plY3RGaWVsZE1vZGVsIH0gZnJvbSAnLi4vLi4vZ2VuZXJhdGVkL1Byb2plY3RGaWVsZE1vZGVsJztcbmltcG9ydCBab25lRGV0YWlscyBmcm9tICcuL3pvbmVEZXRhaWxzJztcblxudHlwZSBDb21wb25lbnRQcm9wcyA9IHtcbiAgZm9ybUltYWdlOiBQYWdlSW1hZ2VNb2RlbDtcbiAgem9uZXM6IE9DUlpvbmVNb2RlbFtdO1xuICBkZXRlY3RlZEFycmF5PzogeyBba2V5OiBudW1iZXJdOiBJQXN5bmNSZXN1bHQ8RGV0ZWN0UmVxUmVzdWx0TW9kZWw+IH07XG4gIGFjdGl2ZVpvbmU6IE9DUlpvbmVNb2RlbDtcbiAgYXZhaWxhYmxlRmllbGRzOiBQcm9qZWN0RmllbGRNb2RlbFtdO1xuICBkaXNwYXRjaDogYW55O1xuICBpbWFnZVNjYWxlOiBudW1iZXI7XG59O1xuXG5jb25zdCBab25lTGlzdDogUmVhY3QuU3RhdGVsZXNzQ29tcG9uZW50PENvbXBvbmVudFByb3BzPiA9ICh7XG4gIHpvbmVzLFxuICBhY3RpdmVab25lLFxuICBkZXRlY3RlZEFycmF5LFxuICBhdmFpbGFibGVGaWVsZHMsXG4gIGltYWdlU2NhbGUsXG4gIGZvcm1JbWFnZSxcbiAgZGlzcGF0Y2gsXG59KSA9PiAoXG4gIDxkaXY+XG4gICAgeyh6b25lcyB8fCBbXSkubWFwKCh6b25lLCB6b25lSSkgPT4ge1xuICAgICAgbGV0IGZpZWxkQkcgPSAnIzI4NjA5MDZlJztcbiAgICAgIGlmICh6b25lLmlzQnJlYWtGaWVsZCkgZmllbGRCRyA9ICdyZ2JhKDAsIDI1NSwgMCwgMC40NSknO1xuICAgICAgZWxzZSBpZiAoem9uZS5pZCA9PSAnZm9ybXNfcmVjb2duaXplckZpZWxkJykgZmllbGRCRyA9ICcjZjhkNTFlNzMnO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2XG4gICAgICAgICAga2V5PXt6b25lSX1cbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGZpZWxkQkcsXG4gICAgICAgICAgICB0ZXh0QWxpZ246ICdsZWZ0JyxcbiAgICAgICAgICAgIHRvcDogem9uZS55IC8gaW1hZ2VTY2FsZSxcbiAgICAgICAgICAgIGxlZnQ6IHpvbmUueCAvIGltYWdlU2NhbGUsXG4gICAgICAgICAgICBoZWlnaHQ6IHpvbmUuaGVpZ2h0IC8gaW1hZ2VTY2FsZSxcbiAgICAgICAgICAgIHdpZHRoOiB6b25lLndpZHRoIC8gaW1hZ2VTY2FsZSxcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgPERyb3Bkb3duXG4gICAgICAgICAgICBpZD17J3pvbmVEcm9wJyArIHpvbmVJfVxuICAgICAgICAgICAgY2xhc3NOYW1lPSd0cmFuc3BhcmVudERyb3BEb3duJ1xuICAgICAgICAgICAgb3Blbj17YWN0aXZlWm9uZSAmJiB6b25lLmNsaWVudFJlZmVyZW5jZSA9PSBhY3RpdmVab25lLmNsaWVudFJlZmVyZW5jZX1cbiAgICAgICAgICAgIG9uVG9nZ2xlPXsoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICh6b25lID09PSBhY3RpdmVab25lKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgaWYgKGFjdGl2ZVpvbmUpIHJldHVybjtcblxuICAgICAgICAgICAgICBkaXNwYXRjaChlbnN1cmVBdXRvbWF0aW9ucygpLnVwZGF0ZUF1dG9tYXRpb25Qcm9wKGZvcm1JbWFnZSwgJ2FjdGl2ZVpvbmUnLCB6b25lKSk7XG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxEcm9wZG93bi5Ub2dnbGU+XG4gICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT0nZmEgZmEtY3Jvc3NoYWlycyc+PC9pPlxuICAgICAgICAgICAgPC9Ecm9wZG93bi5Ub2dnbGU+XG5cbiAgICAgICAgICAgIDxEcm9wZG93bi5NZW51PlxuICAgICAgICAgICAgICA8Wm9uZURldGFpbHNcbiAgICAgICAgICAgICAgICBmb3JtSW1hZ2U9e2Zvcm1JbWFnZX1cbiAgICAgICAgICAgICAgICBhdmFpbGFibGVGaWVsZHM9e2F2YWlsYWJsZUZpZWxkc31cbiAgICAgICAgICAgICAgICB6b25lPXt6b25lfVxuICAgICAgICAgICAgICAgIHJlY29nbml6ZWRBc3luYz17ZGV0ZWN0ZWRBcnJheSAmJiBkZXRlY3RlZEFycmF5W3pvbmUuY2xpZW50UmVmZXJlbmNlXX1cbiAgICAgICAgICAgICAgICBkaXNwYXRjaD17ZGlzcGF0Y2h9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0Ryb3Bkb3duLk1lbnU+XG4gICAgICAgICAgPC9Ecm9wZG93bj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH0pfVxuICA8L2Rpdj5cbik7XG5cbmV4cG9ydCBkZWZhdWx0IFpvbmVMaXN0O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vQ2xpZW50QXBwL2NvbXBvbmVudHMvZm9ybXMvem9uZUxpc3QudHN4IiwiLy8gZW1wdHkgKG51bGwtbG9hZGVyKVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vQ2xpZW50QXBwL2NvbXBvbmVudHMvZm9ybXMvZm9ybUVkaXRvci5jc3Ncbi8vIG1vZHVsZSBpZCA9IDE3Mjlcbi8vIG1vZHVsZSBjaHVua3MgPSA2Il0sInNvdXJjZVJvb3QiOiIifQ==